import{r as S,c as we,g as $e,a as n,j as f,F as q,b as Fn}from"./app-9a524427.js";import{A as $n}from"./AuthenticatedLayout-a2c1803c.js";import{M as Ue}from"./Modal-ac0e39bb.js";import{P as le}from"./PrimaryButton-4db26136.js";import"./ApplicationLogo-26954619.js";import"./transition-712966ff.js";var xe={exports:{}};/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */xe.exports;(function(p,c){(function(y,P){p.exports=P(S)})(self,y=>(()=>{var P={703:(i,a,w)=>{var m=w(414);function C(){}function I(){}I.resetWarningCache=C,i.exports=function(){function x(k,z,H,d,v,M){if(M!==m){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}function R(){return x}x.isRequired=x;var A={array:x,bigint:x,bool:x,func:x,number:x,object:x,string:x,symbol:x,any:x,arrayOf:R,element:x,elementType:x,instanceOf:R,node:x,objectOf:R,oneOf:R,oneOfType:R,shape:R,exact:R,checkPropTypes:I,resetWarningCache:C};return A.PropTypes=A,A}},697:(i,a,w)=>{i.exports=w(703)()},414:i=>{i.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:i=>{i.exports=y}},E={};function b(i){var a=E[i];if(a!==void 0)return a.exports;var w=E[i]={exports:{}};return P[i](w,w.exports,b),w.exports}b.n=i=>{var a=i&&i.__esModule?()=>i.default:()=>i;return b.d(a,{a}),a},b.d=(i,a)=>{for(var w in a)b.o(a,w)&&!b.o(i,w)&&Object.defineProperty(i,w,{enumerable:!0,get:a[w]})},b.o=(i,a)=>Object.prototype.hasOwnProperty.call(i,a),b.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var N={};return(()=>{b.r(N),b.d(N,{CKEditor:()=>ae,CKEditorContext:()=>ze});var i=b(787),a=b.n(i),w=b(697),m=b.n(w);const C=new Array(256).fill("").map((e,t)=>("0"+t.toString(16)).slice(-2));class I{constructor(t){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof t.crashNumberLimit=="number"?t.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof t.minimumNonErrorTimePeriod=="number"?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=r=>{const o="error"in r?r.error:r.reason;o instanceof Error&&this._handleError(o,r)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,r){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(r)}off(t,r){this._listeners[t]=this._listeners[t].filter(o=>o!==r)}_fire(t,...r){const o=this._listeners[t]||[];for(const s of o)s.apply(this,[null,...r])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,r){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:r instanceof ErrorEvent?r.filename:void 0,lineno:r instanceof ErrorEvent?r.lineno:void 0,colno:r instanceof ErrorEvent?r.colno:void 0,date:this._now()});const o=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:o}),o?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&t.context!==void 0&&t.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(t)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function x(e,t=new Set){const r=[e],o=new Set;let s=0;for(;r.length>s;){const l=r[s++];if(!o.has(l)&&R(l)&&!t.has(l))if(o.add(l),Symbol.iterator in l)try{for(const u of l)r.push(u)}catch{}else for(const u in l)u!=="defaultValue"&&r.push(l[u])}return o}function R(e){const t=Object.prototype.toString.call(e),r=typeof e;return!(r==="number"||r==="boolean"||r==="string"||r==="symbol"||r==="function"||t==="[object Date]"||t==="[object RegExp]"||t==="[object Module]"||e==null||e._watchdogExcluded||e instanceof EventTarget||e instanceof Event)}function A(e,t,r=new Set){if(e===t&&typeof(o=e)=="object"&&o!==null)return!0;var o;const s=x(e,r),l=x(t,r);for(const u of s)if(l.has(u))return!0;return!1}const k=function(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")},z=typeof we=="object"&&we&&we.Object===Object&&we;var H=typeof self=="object"&&self&&self.Object===Object&&self;const d=z||H||Function("return this")(),v=function(){return d.Date.now()};var M=/\s/;const g=function(e){for(var t=e.length;t--&&M.test(e.charAt(t)););return t};var ee=/^\s+/;const V=function(e){return e&&e.slice(0,g(e)+1).replace(ee,"")},te=d.Symbol;var Le=Object.prototype,zt=Le.hasOwnProperty,Ft=Le.toString,de=te?te.toStringTag:void 0;const $t=function(e){var t=zt.call(e,de),r=e[de];try{e[de]=void 0;var o=!0}catch{}var s=Ft.call(e);return o&&(t?e[de]=r:delete e[de]),s};var Ut=Object.prototype.toString;const Lt=function(e){return Ut.call(e)};var Be=te?te.toStringTag:void 0;const Q=function(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Be&&Be in Object(e)?$t(e):Lt(e)},B=function(e){return e!=null&&typeof e=="object"},Bt=function(e){return typeof e=="symbol"||B(e)&&Q(e)=="[object Symbol]"};var qt=/^[-+]0x[0-9a-f]+$/i,Ht=/^0b[01]+$/i,Vt=/^0o[0-7]+$/i,Qt=parseInt;const qe=function(e){if(typeof e=="number")return e;if(Bt(e))return NaN;if(k(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=k(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=V(e);var r=Ht.test(e);return r||Vt.test(e)?Qt(e.slice(2),r?2:8):qt.test(e)?NaN:+e};var Kt=Math.max,Gt=Math.min;const Yt=function(e,t,r){var o,s,l,u,h,O,T=0,_e=!1,J=!1,F=!0;if(typeof e!="function")throw new TypeError("Expected a function");function ce(W){var L=o,Z=s;return o=s=void 0,T=W,u=e.apply(Z,L)}function me(W){var L=W-O;return O===void 0||L>=t||L<0||J&&W-T>=l}function X(){var W=v();if(me(W))return D(W);h=setTimeout(X,function(L){var Z=t-(L-O);return J?Gt(Z,l-(L-T)):Z}(W))}function D(W){return h=void 0,F&&o?ce(W):(o=s=void 0,u)}function U(){var W=v(),L=me(W);if(o=arguments,s=this,O=W,L){if(h===void 0)return function(Z){return T=Z,h=setTimeout(X,t),_e?ce(Z):u}(O);if(J)return clearTimeout(h),h=setTimeout(X,t),ce(O)}return h===void 0&&(h=setTimeout(X,t)),u}return t=qe(t)||0,k(r)&&(_e=!!r.leading,l=(J="maxWait"in r)?Kt(qe(r.maxWait)||0,t):l,F="trailing"in r?!!r.trailing:F),U.cancel=function(){h!==void 0&&clearTimeout(h),T=0,o=O=s=h=void 0},U.flush=function(){return h===void 0?u:D(v())},U},Jt=function(e,t,r){var o=!0,s=!0;if(typeof e!="function")throw new TypeError("Expected a function");return k(r)&&(o="leading"in r?!!r.leading:o,s="trailing"in r?!!r.trailing:s),Yt(e,t,{leading:o,maxWait:t,trailing:s})},Xt=function(){this.__data__=[],this.size=0},He=function(e,t){return e===t||e!=e&&t!=t},ye=function(e,t){for(var r=e.length;r--;)if(He(e[r][0],t))return r;return-1};var Zt=Array.prototype.splice;const er=function(e){var t=this.__data__,r=ye(t,e);return!(r<0)&&(r==t.length-1?t.pop():Zt.call(t,r,1),--this.size,!0)},tr=function(e){var t=this.__data__,r=ye(t,e);return r<0?void 0:t[r][1]},rr=function(e){return ye(this.__data__,e)>-1},nr=function(e,t){var r=this.__data__,o=ye(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this};function re(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}re.prototype.clear=Xt,re.prototype.delete=er,re.prototype.get=tr,re.prototype.has=rr,re.prototype.set=nr;const be=re,or=function(){this.__data__=new be,this.size=0},sr=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},ir=function(e){return this.__data__.get(e)},ar=function(e){return this.__data__.has(e)},Ve=function(e){if(!k(e))return!1;var t=Q(e);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},je=d["__core-js_shared__"];var Qe=function(){var e=/[^.]+$/.exec(je&&je.keys&&je.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();const cr=function(e){return!!Qe&&Qe in e};var lr=Function.prototype.toString;const K=function(e){if(e!=null){try{return lr.call(e)}catch{}try{return e+""}catch{}}return""};var dr=/^\[object .+?Constructor\]$/,ur=Function.prototype,hr=Object.prototype,fr=ur.toString,pr=hr.hasOwnProperty,mr=RegExp("^"+fr.call(pr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const yr=function(e){return!(!k(e)||cr(e))&&(Ve(e)?mr:dr).test(K(e))},br=function(e,t){return e==null?void 0:e[t]},G=function(e,t){var r=br(e,t);return yr(r)?r:void 0},ue=G(d,"Map"),he=G(Object,"create"),gr=function(){this.__data__=he?he(null):{},this.size=0},vr=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var _r=Object.prototype.hasOwnProperty;const wr=function(e){var t=this.__data__;if(he){var r=t[e];return r==="__lodash_hash_undefined__"?void 0:r}return _r.call(t,e)?t[e]:void 0};var xr=Object.prototype.hasOwnProperty;const jr=function(e){var t=this.__data__;return he?t[e]!==void 0:xr.call(t,e)},Er=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=he&&t===void 0?"__lodash_hash_undefined__":t,this};function ne(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}ne.prototype.clear=gr,ne.prototype.delete=vr,ne.prototype.get=wr,ne.prototype.has=jr,ne.prototype.set=Er;const Ke=ne,Cr=function(){this.size=0,this.__data__={hash:new Ke,map:new(ue||be),string:new Ke}},Nr=function(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null},ge=function(e,t){var r=e.__data__;return Nr(t)?r[typeof t=="string"?"string":"hash"]:r.map},Tr=function(e){var t=ge(this,e).delete(e);return this.size-=t?1:0,t},Or=function(e){return ge(this,e).get(e)},Sr=function(e){return ge(this,e).has(e)},Pr=function(e,t){var r=ge(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this};function oe(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}oe.prototype.clear=Cr,oe.prototype.delete=Tr,oe.prototype.get=Or,oe.prototype.has=Sr,oe.prototype.set=Pr;const Ar=oe,kr=function(e,t){var r=this.__data__;if(r instanceof be){var o=r.__data__;if(!ue||o.length<199)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ar(o)}return r.set(e,t),this.size=r.size,this};function se(e){var t=this.__data__=new be(e);this.size=t.size}se.prototype.clear=or,se.prototype.delete=sr,se.prototype.get=ir,se.prototype.has=ar,se.prototype.set=kr;const Rr=se,Mr=function(e,t){for(var r=-1,o=e==null?0:e.length;++r<o&&t(e[r],r,e)!==!1;);return e},Ge=function(){try{var e=G(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Ye=function(e,t,r){t=="__proto__"&&Ge?Ge(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r};var Wr=Object.prototype.hasOwnProperty;const Je=function(e,t,r){var o=e[t];Wr.call(e,t)&&He(o,r)&&(r!==void 0||t in e)||Ye(e,t,r)},ve=function(e,t,r,o){var s=!r;r||(r={});for(var l=-1,u=t.length;++l<u;){var h=t[l],O=o?o(r[h],e[h],h,r,e):void 0;O===void 0&&(O=e[h]),s?Ye(r,h,O):Je(r,h,O)}return r},Dr=function(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o},Xe=function(e){return B(e)&&Q(e)=="[object Arguments]"};var Ze=Object.prototype,Ir=Ze.hasOwnProperty,zr=Ze.propertyIsEnumerable;const Fr=Xe(function(){return arguments}())?Xe:function(e){return B(e)&&Ir.call(e,"callee")&&!zr.call(e,"callee")},Ee=Array.isArray,$r=function(){return!1};var et=c&&!c.nodeType&&c,tt=et&&!0&&p&&!p.nodeType&&p,rt=tt&&tt.exports===et?d.Buffer:void 0;const nt=(rt?rt.isBuffer:void 0)||$r;var Ur=/^(?:0|[1-9]\d*)$/;const Lr=function(e,t){var r=typeof e;return!!(t=t??9007199254740991)&&(r=="number"||r!="symbol"&&Ur.test(e))&&e>-1&&e%1==0&&e<t},ot=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991};var j={};j["[object Float32Array]"]=j["[object Float64Array]"]=j["[object Int8Array]"]=j["[object Int16Array]"]=j["[object Int32Array]"]=j["[object Uint8Array]"]=j["[object Uint8ClampedArray]"]=j["[object Uint16Array]"]=j["[object Uint32Array]"]=!0,j["[object Arguments]"]=j["[object Array]"]=j["[object ArrayBuffer]"]=j["[object Boolean]"]=j["[object DataView]"]=j["[object Date]"]=j["[object Error]"]=j["[object Function]"]=j["[object Map]"]=j["[object Number]"]=j["[object Object]"]=j["[object RegExp]"]=j["[object Set]"]=j["[object String]"]=j["[object WeakMap]"]=!1;const Br=function(e){return B(e)&&ot(e.length)&&!!j[Q(e)]},Ce=function(e){return function(t){return e(t)}};var st=c&&!c.nodeType&&c,fe=st&&!0&&p&&!p.nodeType&&p,Ne=fe&&fe.exports===st&&z.process;const ie=function(){try{var e=fe&&fe.require&&fe.require("util").types;return e||Ne&&Ne.binding&&Ne.binding("util")}catch{}}();var it=ie&&ie.isTypedArray;const qr=it?Ce(it):Br;var Hr=Object.prototype.hasOwnProperty;const at=function(e,t){var r=Ee(e),o=!r&&Fr(e),s=!r&&!o&&nt(e),l=!r&&!o&&!s&&qr(e),u=r||o||s||l,h=u?Dr(e.length,String):[],O=h.length;for(var T in e)!t&&!Hr.call(e,T)||u&&(T=="length"||s&&(T=="offset"||T=="parent")||l&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||Lr(T,O))||h.push(T);return h};var Vr=Object.prototype;const Te=function(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||Vr)},ct=function(e,t){return function(r){return e(t(r))}},Qr=ct(Object.keys,Object);var Kr=Object.prototype.hasOwnProperty;const Gr=function(e){if(!Te(e))return Qr(e);var t=[];for(var r in Object(e))Kr.call(e,r)&&r!="constructor"&&t.push(r);return t},lt=function(e){return e!=null&&ot(e.length)&&!Ve(e)},Oe=function(e){return lt(e)?at(e):Gr(e)},Yr=function(e,t){return e&&ve(t,Oe(t),e)},Jr=function(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t};var Xr=Object.prototype.hasOwnProperty;const Zr=function(e){if(!k(e))return Jr(e);var t=Te(e),r=[];for(var o in e)(o!="constructor"||!t&&Xr.call(e,o))&&r.push(o);return r},Se=function(e){return lt(e)?at(e,!0):Zr(e)},en=function(e,t){return e&&ve(t,Se(t),e)};var dt=c&&!c.nodeType&&c,ut=dt&&!0&&p&&!p.nodeType&&p,ht=ut&&ut.exports===dt?d.Buffer:void 0,ft=ht?ht.allocUnsafe:void 0;const tn=function(e,t){if(t)return e.slice();var r=e.length,o=ft?ft(r):new e.constructor(r);return e.copy(o),o},rn=function(e,t){var r=-1,o=e.length;for(t||(t=Array(o));++r<o;)t[r]=e[r];return t},nn=function(e,t){for(var r=-1,o=e==null?0:e.length,s=0,l=[];++r<o;){var u=e[r];t(u,r,e)&&(l[s++]=u)}return l},pt=function(){return[]};var on=Object.prototype.propertyIsEnumerable,mt=Object.getOwnPropertySymbols;const Pe=mt?function(e){return e==null?[]:(e=Object(e),nn(mt(e),function(t){return on.call(e,t)}))}:pt,sn=function(e,t){return ve(e,Pe(e),t)},yt=function(e,t){for(var r=-1,o=t.length,s=e.length;++r<o;)e[s+r]=t[r];return e},Ae=ct(Object.getPrototypeOf,Object),bt=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)yt(t,Pe(e)),e=Ae(e);return t}:pt,an=function(e,t){return ve(e,bt(e),t)},gt=function(e,t,r){var o=t(e);return Ee(e)?o:yt(o,r(e))},cn=function(e){return gt(e,Oe,Pe)},ln=function(e){return gt(e,Se,bt)},ke=G(d,"DataView"),Re=G(d,"Promise"),Me=G(d,"Set"),We=G(d,"WeakMap");var vt="[object Map]",_t="[object Promise]",wt="[object Set]",xt="[object WeakMap]",jt="[object DataView]",dn=K(ke),un=K(ue),hn=K(Re),fn=K(Me),pn=K(We),Y=Q;(ke&&Y(new ke(new ArrayBuffer(1)))!=jt||ue&&Y(new ue)!=vt||Re&&Y(Re.resolve())!=_t||Me&&Y(new Me)!=wt||We&&Y(new We)!=xt)&&(Y=function(e){var t=Q(e),r=t=="[object Object]"?e.constructor:void 0,o=r?K(r):"";if(o)switch(o){case dn:return jt;case un:return vt;case hn:return _t;case fn:return wt;case pn:return xt}return t});const De=Y;var mn=Object.prototype.hasOwnProperty;const yn=function(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&mn.call(e,"index")&&(r.index=e.index,r.input=e.input),r},Et=d.Uint8Array,Ie=function(e){var t=new e.constructor(e.byteLength);return new Et(t).set(new Et(e)),t},bn=function(e,t){var r=t?Ie(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)};var gn=/\w*$/;const vn=function(e){var t=new e.constructor(e.source,gn.exec(e));return t.lastIndex=e.lastIndex,t};var Ct=te?te.prototype:void 0,Nt=Ct?Ct.valueOf:void 0;const _n=function(e){return Nt?Object(Nt.call(e)):{}},wn=function(e,t){var r=t?Ie(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)},xn=function(e,t,r){var o=e.constructor;switch(t){case"[object ArrayBuffer]":return Ie(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return bn(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return wn(e,r);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return vn(e);case"[object Symbol]":return _n(e)}};var Tt=Object.create;const jn=function(){function e(){}return function(t){if(!k(t))return{};if(Tt)return Tt(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),En=function(e){return typeof e.constructor!="function"||Te(e)?{}:jn(Ae(e))},Cn=function(e){return B(e)&&De(e)=="[object Map]"};var Ot=ie&&ie.isMap;const Nn=Ot?Ce(Ot):Cn,Tn=function(e){return B(e)&&De(e)=="[object Set]"};var St=ie&&ie.isSet;const On=St?Ce(St):Tn;var Pt="[object Arguments]",At="[object Function]",kt="[object Object]",_={};_[Pt]=_["[object Array]"]=_["[object ArrayBuffer]"]=_["[object DataView]"]=_["[object Boolean]"]=_["[object Date]"]=_["[object Float32Array]"]=_["[object Float64Array]"]=_["[object Int8Array]"]=_["[object Int16Array]"]=_["[object Int32Array]"]=_["[object Map]"]=_["[object Number]"]=_[kt]=_["[object RegExp]"]=_["[object Set]"]=_["[object String]"]=_["[object Symbol]"]=_["[object Uint8Array]"]=_["[object Uint8ClampedArray]"]=_["[object Uint16Array]"]=_["[object Uint32Array]"]=!0,_["[object Error]"]=_[At]=_["[object WeakMap]"]=!1;const Sn=function e(t,r,o,s,l,u){var h,O=1&r,T=2&r,_e=4&r;if(o&&(h=l?o(t,s,l,u):o(t)),h!==void 0)return h;if(!k(t))return t;var J=Ee(t);if(J){if(h=yn(t),!O)return rn(t,h)}else{var F=De(t),ce=F==At||F=="[object GeneratorFunction]";if(nt(t))return tn(t,O);if(F==kt||F==Pt||ce&&!l){if(h=T||ce?{}:En(t),!O)return T?an(t,en(h,t)):sn(t,Yr(h,t))}else{if(!_[F])return l?t:{};h=xn(t,F,O)}}u||(u=new Rr);var me=u.get(t);if(me)return me;u.set(t,h),On(t)?t.forEach(function(D){h.add(e(D,r,o,D,t,u))}):Nn(t)&&t.forEach(function(D,U){h.set(U,e(D,r,o,U,t,u))});var X=J?void 0:(_e?T?ln:cn:T?Se:Oe)(t);return Mr(X||t,function(D,U){X&&(D=t[U=D]),Je(h,U,e(D,r,o,U,t,u))}),h},Pn=function(e,t){return Sn(e,5,t=typeof t=="function"?t:void 0)};var An=Function.prototype,kn=Object.prototype,Rt=An.toString,Rn=kn.hasOwnProperty,Mn=Rt.call(Object);const Wn=function(e){if(!B(e)||Q(e)!="[object Object]")return!1;var t=Ae(e);if(t===null)return!0;var r=Rn.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Rt.call(r)==Mn},Dn=function(e){return B(e)&&e.nodeType===1&&!Wn(e)};class Mt extends I{constructor(t,r={}){super(r),this._editor=null,this._throttledSave=Jt(this._save.bind(this),typeof r.saveInterval=="number"?r.saveInterval:5e3),t&&(this._creator=(o,s)=>t.create(o,s)),this._destructor=o=>o.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(t=>{console.error("An error happened during the editor destroying.",t)}).then(()=>{if(typeof this._elementOrData=="string")return this.create(this._data,this._config,this._config.context);{const t=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,t,t.context)}}).then(()=>{this._fire("restart")})}create(t=this._elementOrData,r=this._config,o){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=t,this._config=this._cloneEditorConfiguration(r)||{},this._config.context=o,this._creator(t,this._config))).then(s=>{this._editor=s,s.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=s.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const t=this._editor;return this._editor=null,t.model.document.off("change:data",this._throttledSave),this._destructor(t)})}_save(){const t=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=t}catch(r){console.error(r,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(t){this._excludedProps=t}_getData(){const t={};for(const r of this._editor.model.document.getRootNames())t[r]=this._editor.data.get({rootName:r});return t}_isErrorComingFromThisItem(t){return A(this._editor,t.context,this._excludedProps)}_cloneEditorConfiguration(t){return Pn(t,(r,o)=>Dn(r)||o==="context"?r:void 0)}}const pe=Symbol("MainQueueId");class Wt extends I{constructor(t,r={}){super(r),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new In,this._watchdogConfig=r,this._creator=o=>t.create(o),this._destructor=o=>o.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}get context(){return this._context}create(t={}){return this._actionQueues.enqueue(pe,()=>(this._contextConfig=t,this._create()))}getItem(t){return this._getWatchdog(t)._item}getItemState(t){return this._getWatchdog(t).state}add(t){const r=Dt(t);return Promise.all(r.map(o=>this._actionQueues.enqueue(o.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let s;if(this._watchdogs.has(o.id))throw new Error(`Item with the given id is already added: '${o.id}'.`);if(o.type==="editor")return s=new Mt(null,this._watchdogConfig),s.setCreator(o.creator),s._setExcludedProperties(this._contextProps),o.destructor&&s.setDestructor(o.destructor),this._watchdogs.set(o.id,s),s.on("error",(l,{error:u,causesRestart:h})=>{this._fire("itemError",{itemId:o.id,error:u}),h&&this._actionQueues.enqueue(o.id,()=>new Promise(O=>{const T=()=>{s.off("restart",T),this._fire("itemRestart",{itemId:o.id}),O()};s.on("restart",T)}))}),s.create(o.sourceElementOrData,o.config,this._context);throw new Error(`Not supported item type: '${o.type}'.`)})))}remove(t){const r=Dt(t);return Promise.all(r.map(o=>this._actionQueues.enqueue(o,()=>{const s=this._getWatchdog(o);return this._watchdogs.delete(o),s.destroy()})))}destroy(){return this._actionQueues.enqueue(pe,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(pe,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(t=>{console.error("An error happened during destroying the context or items.",t)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(t=>(this._context=t,this._contextProps=x(this._context),Promise.all(Array.from(this._watchdogs.values()).map(r=>(r._setExcludedProperties(this._contextProps),r.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const t=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(r=>r.destroy())).then(()=>this._destructor(t))})}_getWatchdog(t){const r=this._watchdogs.get(t);if(!r)throw new Error(`Item with the given id was not registered: ${t}.`);return r}_isErrorComingFromThisItem(t){for(const r of this._watchdogs.values())if(r._isErrorComingFromThisItem(t))return!1;return A(this._context,t.context)}}class In{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(t){this._onEmptyCallbacks.push(t)}enqueue(t,r){const o=t===pe;this._activeActions++,this._queues.get(t)||this._queues.set(t,Promise.resolve());const s=(o?Promise.all(this._queues.values()):Promise.all([this._queues.get(pe),this._queues.get(t)])).then(r),l=s.catch(()=>{});return this._queues.set(t,l),s.finally(()=>{this._activeActions--,this._queues.get(t)===l&&this._activeActions===0&&this._onEmptyCallbacks.forEach(u=>u())})}}function Dt(e){return Array.isArray(e)?e:[e]}const It=a().createContext("contextWatchdog");class ze extends a().Component{constructor(t,r){super(t,r),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(t){return this._shouldComponentUpdate(t)}async _shouldComponentUpdate(t){return t.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(t.config)),t.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(t.config),!0):this.props.children!==t.children}render(){return a().createElement(It.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(t){this.contextWatchdog=new Wt(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(r,o)=>{this.props.onError(o.error,{phase:"runtime",willContextRestart:o.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(t).catch(r=>{this.props.onError(r,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}ze.defaultProps={isLayoutReady:!0,onError:(e,t)=>console.error(e,t)},ze.propTypes={id:m().string,isLayoutReady:m().bool,context:m().func,watchdogConfig:m().object,config:m().object,onReady:m().func,onError:m().func};const Fe="Lock from React integration (@ckeditor/ckeditor5-react)";class ae extends a().Component{constructor(t){super(t),this.editorDestructionInProgress=null,this.domContainer=a().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:r}=window;if(r){const[o]=r.split(".").map(Number);o<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.props.disableWatchdog?this.instance:this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(t){return!!this.editor&&(t.id!==this.props.id||t.disableWatchdog!==this.props.disableWatchdog||(this._shouldUpdateEditor(t)&&this.editor.data.set(t.data),"disabled"in t&&(t.disabled?this.editor.enableReadOnlyMode(Fe):this.editor.disableReadOnlyMode(Fe)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return a().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.props.disableWatchdog?this.instance=await this._createEditor(this.domContainer.current,this._getConfig()):this.watchdog||(this.context instanceof Wt?this.watchdog=new zn(this.context):this.watchdog=new ae._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((t,r)=>this._createEditor(t,r)),this.watchdog.on("error",(t,{error:r,causesRestart:o})=>{(this.props.onError||console.error)(r,{phase:"runtime",willEditorRestart:o})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(t=>{(this.props.onError||console.error)(t,{phase:"initialization",willEditorRestart:!1})}))}_createEditor(t,r){return this.props.editor.create(t,r).then(o=>{"disabled"in this.props&&this.props.disabled&&o.enableReadOnlyMode(Fe);const s=o.model.document,l=o.editing.view.document;return s.on("change:data",u=>{this.props.onChange&&this.props.onChange(u,o)}),l.on("focus",u=>{this.props.onFocus&&this.props.onFocus(u,o)}),l.on("blur",u=>{this.props.onBlur&&this.props.onBlur(u,o)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(o)}),o})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(t=>{setTimeout(async()=>this.watchdog?(await this.watchdog.destroy(),this.watchdog=null,t()):this.instance?(await this.instance.destroy(),this.instance=null,t()):void t())})}_shouldUpdateEditor(t){return this.props.data!==t.data&&this.editor.data.get()!==t.data}_getConfig(){const t=this.props.config||{};return this.props.data&&t.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` properties. The config property is over the data value and the first one will be used when specified both."),{...t,initialData:t.initialData||this.props.data||""}}}ae.contextType=It,ae.propTypes={editor:m().func.isRequired,data:m().string,config:m().object,disableWatchdog:m().bool,watchdogConfig:m().object,onChange:m().func,onReady:m().func,onFocus:m().func,onBlur:m().func,onError:m().func,disabled:m().bool,id:m().any},ae._EditorWatchdog=Mt;class zn{constructor(t){this._contextWatchdog=t,this._id=function(){const r=4294967296*Math.random()>>>0,o=4294967296*Math.random()>>>0,s=4294967296*Math.random()>>>0,l=4294967296*Math.random()>>>0;return"e"+C[r>>0&255]+C[r>>8&255]+C[r>>16&255]+C[r>>24&255]+C[o>>0&255]+C[o>>8&255]+C[o>>16&255]+C[o>>24&255]+C[s>>0&255]+C[s>>8&255]+C[s>>16&255]+C[s>>24&255]+C[l>>0&255]+C[l>>8&255]+C[l>>16&255]+C[l>>24&255]}()}setCreator(t){this._creator=t}create(t,r){return this._contextWatchdog.add({sourceElementOrData:t,config:r,creator:this._creator,id:this._id,type:"editor"})}on(t,r){this._contextWatchdog.on("itemError",(o,{itemId:s,error:l})=>{s===this._id&&r(null,{error:l,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}})(),N})())})(xe,xe.exports);var Un=xe.exports;class Ln{constructor(c){this.loader=c}upload(){return this.loader.file.then(c=>new Promise((y,P)=>{$e.post("/upload",{file:c},{forceFormData:!0,onSuccess(E){y({default:E.props.flash.success.urls.default})}})}))}abort(){console.log("abort")}}const Bn=Ln;function qn(){const[p,c]=S.useState(!1),[y,P]=S.useState(n("tr",{})),E="filesTable";function b(){axios.get("/upload").then(N=>{P(N.data.map(i=>f("tr",{children:[n("td",{children:i.file_name}),n("td",{children:i.name}),n("td",{children:i.mime_type}),n("td",{children:n("a",{href:"/storage/"+i.path,target:"_blank",children:n("u",{children:"view"})})}),n("td",{children:n("button",{className:"border p-2 inline-flex items-center px-4 py-2 bg-gray-800 border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 focus:bg-gray-700 active:bg-gray-900 focus:outline-none focus:ring-2",type:"button",onClick:()=>navigator.clipboard.writeText("/storage/"+i.path),children:"Copy Url"})})]},i.id))),c(!0),$(document).ready(function(){$("#"+E).DataTable({columnDefs:[{searchable:!1,targets:[3,4]}]})})})}return f(q,{children:[n("span",{className:"inline-flex rounded-md",children:n("button",{className:"inline-flex items-center px-3 py-2 border border-transparent",type:"button",onClick:b,children:n("span",{className:"hover:text-gray-700",children:"view uploads"})})}),p?f(q,{children:[n("div",{className:"flex overflow-y-auto fixed inset-10 z-50 outline-none focus:outline-none",children:n("div",{className:"relative w-auto my-6 mx-auto",children:f("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[f("div",{className:"flex items-start justify-between p-2 border-b border-solid border-slate-200 rounded-t",children:[n("h3",{className:"text-3xl font-semibold justify-center p-2",children:"Uploaded Files"}),n("button",{className:"p-2 ml-auto border-0 text-black float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:()=>c(!1),children:n("span",{className:"text-black h-6 w-6 text-4xl block outline-none focus:outline-none",children:"×"})})]}),n("div",{className:"relative p-6 flex-auto",children:n("div",{className:"w-full",children:f("table",{id:E,"data-order":"[]",className:"cell-border display w-full overflow-y-auto",children:[n("thead",{children:f("tr",{children:[n("th",{children:"Filename"}),n("th",{children:"Alias"}),n("th",{children:"Mimetype"}),n("th",{children:"Link"}),n("th",{children:"COPY URL"})]})}),n("tbody",{children:y})]})})})]})})}),n("div",{className:"opacity-25 fixed inset-0 z-40 bg-black",onClick:()=>c(!1)})]}):null]})}function Hn({showTools:p,onClick:c}){return n(q,{children:n("button",{className:"inline-flex items-center px-3 py-2 border border-transparent",type:"button",onClick:c,children:f("span",{className:"hover:text-gray-700",children:["editor tools",n("span",{children:n("svg",{style:p?{transform:"rotate(180deg)"}:{},className:"ml-2 -mr-0.5 h-4 w-4 inline-flex",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:n("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})})})}function Vn({setShowSavePDFModal:p,showSavePDFModal:c}){const[y,P]=S.useState({filename:"",pdfType:"image"}),[E,b]=S.useState(!1);function N(a){P({...y,[a.target.name]:a.target.value})}function i(){if(y.filename.trim().length===0||y.pdfType.trim().length===0)b(!0);else{if(y.pdfType==="image"){let a=document.querySelector(".ck.ck-editor__editable_inline"),w=a.style.border;a.style.removeProperty("border");let m=document.getElementsByClassName("ck-editor__main")[0];html2pdf().set({filename:y.filename+".pdf",image:{type:"jpeg",quality:.98}}).from(m).save(),a.style.border=w}p(!1)}}return n(Ue,{onClose:()=>p(!1),show:c,children:f("div",{className:"px-6 py-6",children:[n("label",{className:"mr-2",children:"Enter filename"}),n("input",{name:"filename",type:"text",onInput:N}),n("span",{children:" .pdf"}),n("br",{}),n("br",{}),n("span",{className:"text-red-600",hidden:!E,children:"*Please fill all fields"}),f("div",{children:[n("br",{}),n(le,{className:"mr-6",onClick:i,children:"Download"}),n(le,{className:"bg-red-600 hover:bg-red-600",onClick:()=>p(!1),children:"Cancel"})]})]})})}function Qn({readonly:p,onClick:c}){return n(q,{children:n("button",{className:"inline-flex items-center px-3 py-2 border border-transparent",type:"button",onClick:c,children:n("span",{className:"hover:text-gray-700",children:p?"Edit":"Readonly"})})})}function Kn({setShowLockModal:p,showLockModal:c,cell:y}){const[P,E]=S.useState(""),[b,N]=S.useState(""),[i,a]=S.useState(!1),[w,m]=S.useState([]),C=y.closest("tr"),I=y.closest("table");function x(){w.forEach(d=>{d.className=b}),H(),editor.setData(editor.ui.view.editable.element.innerHTML),R()}function R(){setTimeout(()=>{const d=document.getElementsByClassName("perm-admin"),v=document.getElementsByClassName("perm-supervisor"),M=document.getElementsByClassName("perm-employee");for(let g of d)g.className+=" bg-red-600";for(let g of v)g.className+=" bg-yellow-300";for(let g of M)g.className+=" bg-green-800"},500),setTimeout(()=>{const d=document.getElementsByClassName("perm-admin"),v=document.getElementsByClassName("perm-supervisor"),M=document.getElementsByClassName("perm-employee");for(let g of d)g.className=g.className.replace("bg-red-600","");for(let g of v)g.className=g.className.replace("bg-yellow-300","");for(let g of M)g.className=g.className.replace("bg-green-800","")},3e3)}function A(d){m(d);let v=null,M=!0;d.forEach(g=>{const ee=g.className.search("perm-"),V=ee===-1?"perm-all":g.className.substring(ee).split(" ")[0];v===null?v=V:v!==V&&(M=!1)}),N(M&&v!==null?v:"")}function k(d){const v=d.target.value;if(E(v),v==="Cell")A([y]);else if(v==="Table")A(I.cells);else if(v==="Row")A(C.cells);else if(v==="Column"){const M=y.cellIndex;let g=[];I.rows.forEach(ee=>{let V=ee.cells[M];V&&g.push(V)}),A(g)}}function z(d){N(d.target.value)}function H(){p(!1),E(""),N(""),a(!1),m([])}return n(Ue,{onClose:H,show:c,children:f("div",{className:"px-6 py-6",children:[n("label",{className:"mr-2",children:"Choose Element"}),f("select",{name:"element",onChange:k,value:P,children:[n("option",{value:""}),n("option",{value:"Cell",children:"Cell"}),n("option",{value:"Row",children:"Row"}),n("option",{value:"Column",children:"Column"}),n("option",{value:"Table",children:"Table"})]}),n("br",{}),n("br",{}),f("div",{children:[n("div",{children:"Choose Permissions"}),f("div",{className:"md:flex items-center",children:[n("input",{className:"ml-2 mr-2",type:"radio",name:"permissions",value:"perm-all",checked:b==="perm-all",onChange:z}),n("label",{children:"All"}),n("input",{className:"ml-4 mr-2",type:"radio",name:"permissions",value:"perm-admin",checked:b==="perm-admin",onChange:z}),n("label",{children:"Admin Only"}),n("span",{className:"ml-1 rounded-bl-2xl bg-red-600 h-4 w-4"})]}),n("span",{className:"ml-2",children:"Admin and "}),n("br",{}),f("div",{className:"md:flex items-center",children:[n("input",{className:"ml-2 mr-2",type:"radio",name:"permissions",value:"perm-supervisor",checked:b==="perm-supervisor",onChange:z}),n("label",{children:"Supervisor"}),n("span",{className:"ml-1 rounded-bl-2xl bg-yellow-300 h-4 w-4"}),n("input",{className:"ml-4 mr-2",type:"radio",name:"permissions",value:"perm-employee",checked:b==="perm-employee",onChange:z}),n("label",{children:"Employee"}),n("span",{className:"ml-1 rounded-bl-2xl bg-green-800 h-4 w-4"})]})]}),n("span",{className:"text-red-600",hidden:!i,children:"*Please fill all fields"}),f("div",{children:[n("br",{}),n(le,{className:"mr-6",onClick:x,children:"Apply"}),n(le,{className:"bg-red-600 hover:bg-red-600",onClick:()=>p(!1),children:"Cancel"})]})]})})}function Gn({setShowSaveModal:p,showSaveModal:c,fileDetails:y,setFileDetails:P,edit:E}){const[b,N]=S.useState(!1);function i(){y.filename.trim().length===0||y.fileType.trim().length===0?N(!0):(y.id!==null?E():axios.post("/reports",{filename:y.filename,fileType:y.fileType,content:editor.ui.view.editable.element.innerHTML}).then(m=>{m.status===200?(P({filename:m.data.filename,fileType:m.data.fileType,id:m.data.id}),$.notify("Saved successfully","success")):$.notify("An error occurred")}).catch(m=>{$.notify(m)}),w())}function a(m){P({...y,[m.target.name]:m.target.value})}function w(){p(!1)}return n(Ue,{onClose:w,show:c,children:f("div",{className:"px-6 py-6",children:[n("label",{className:"mr-2",children:"Enter Name"}),n("input",{name:"filename",type:"text",value:y.filename,onInput:a}),n("br",{}),n("br",{}),n("label",{className:"mr-2",children:"As"}),f("select",{name:"fileType",value:y.fileType,onChange:a,children:[n("option",{value:""}),n("option",{value:"report",children:"Report"}),n("option",{value:"template",children:"Template"})]}),n("br",{}),n("br",{}),n("span",{className:"text-red-600",hidden:!b,children:"*Please fill all fields"}),f("div",{children:[n("br",{}),n(le,{className:"mr-6",onClick:i,children:"Save"}),n(le,{className:"bg-red-600 hover:bg-red-600",onClick:w,children:"Cancel"})]})]})})}function Yn(){const[p,c]=S.useState(!1),[y,P]=S.useState(n("tr",{})),E="templatesTable";function b(){axios.get("/templates").then(i=>{i.status===200?(P(i.data.map(a=>f("tr",{children:[n("td",{children:a.filename}),n("td",{children:a.fileType}),n("td",{children:a.created_at}),n("td",{children:a.updated_at}),n("td",{children:n("u",{className:"cursor-pointer",onClick:()=>{N(a.id),$.notify("Loaded "+a.filename,"info")},children:"load"})}),n("td",{children:n("u",{className:"cursor-pointer",onClick:()=>{$e.get("/reports",{reportId:a.id})},children:"edit"})})]},a.id))),c(!0),$(document).ready(function(){$("#"+E).DataTable({columnDefs:[{searchable:!1,targets:[3,4]}]})})):$.notify("an error occurred")}).catch(i=>{$.notify(i.message)})}function N(i){axios.get("/template/"+i).then(a=>{a.status===200?editor.setData(a.data.content):$.notify("an error occurred")}).catch(a=>{$.notify(a.message)})}return f(q,{children:[n("span",{className:"inline-flex rounded-md",children:n("button",{className:"inline-flex items-center px-3 py-2 border border-transparent",type:"button",onClick:b,children:n("span",{className:"hover:text-gray-700",children:"templates"})})}),p?f(q,{children:[n("div",{className:"flex overflow-y-auto fixed inset-10 z-50 outline-none focus:outline-none",children:n("div",{className:"relative w-auto my-6 mx-auto",children:f("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[f("div",{className:"flex items-start justify-between p-2 border-b border-solid border-slate-200 rounded-t",children:[n("h3",{className:"text-3xl font-semibold justify-center p-2",children:"Templates"}),n("button",{className:"p-2 ml-auto border-0 text-black float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:()=>c(!1),children:n("span",{className:"text-black h-6 w-6 text-4xl block outline-none focus:outline-none",children:"×"})})]}),n("div",{className:"relative p-6 flex-auto",children:n("div",{className:"w-full",children:f("table",{id:E,"data-order":"[]",className:"cell-border display w-full overflow-y-auto",children:[n("thead",{children:f("tr",{children:[n("th",{children:"Filename"}),n("th",{children:"Type"}),n("th",{children:"Created At"}),n("th",{children:"Updated At"}),n("th",{}),n("th",{})]})}),n("tbody",{children:y})]})})})]})})}),n("div",{className:"opacity-25 fixed inset-0 z-40 bg-black",onClick:()=>c(!1)})]}):null]})}function Jn(){const[p,c]=S.useState(!1),[y,P]=S.useState(n("tr",{})),E="reportsTable";function b(){axios.get("/reports/create").then(N=>{N.status===200?(P(N.data.map(i=>f("tr",{children:[n("td",{children:i.filename}),n("td",{children:i.fileType}),n("td",{children:i.created_at}),n("td",{children:i.updated_at}),n("td",{children:n("u",{className:"cursor-pointer",onClick:()=>{$e.get("/reports",{reportId:i.id})},children:"edit"})})]},i.id))),c(!0),$(document).ready(function(){$("#"+E).DataTable({columnDefs:[{searchable:!1,targets:[3,4]}]})})):$.notify("an error occurred")}).catch(N=>{$.notify(N.message)})}return f(q,{children:[n("span",{className:"inline-flex rounded-md",children:n("button",{className:"inline-flex items-center px-3 py-2 border border-transparent",type:"button",onClick:b,children:n("span",{className:"hover:text-gray-700",children:"reports"})})}),p?f(q,{children:[n("div",{className:"flex overflow-y-auto fixed inset-10 z-50 outline-none focus:outline-none",children:n("div",{className:"relative w-auto my-6 mx-auto",children:f("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[f("div",{className:"flex items-start justify-between p-2 border-b border-solid border-slate-200 rounded-t",children:[n("h3",{className:"text-3xl font-semibold justify-center p-2",children:"Reports"}),n("button",{className:"p-2 ml-auto border-0 text-black float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:()=>c(!1),children:n("span",{className:"text-black h-6 w-6 text-4xl block outline-none focus:outline-none",children:"×"})})]}),n("div",{className:"relative p-6 flex-auto",children:n("div",{className:"w-full",children:f("table",{id:E,"data-order":"[]",className:"cell-border display w-full overflow-y-auto",children:[n("thead",{children:f("tr",{children:[n("th",{children:"Filename"}),n("th",{children:"Type"}),n("th",{children:"Created At"}),n("th",{children:"Updated At"}),n("th",{})]})}),n("tbody",{children:y})]})})})]})})}),n("div",{className:"opacity-25 fixed inset-0 z-40 bg-black",onClick:()=>c(!1)})]}):null]})}function Xn({report:p}){const[c,y]=S.useState({id:p.id,filename:p.filename,fileType:p.fileType}),[P,E]=S.useState(!1),[b,N]=S.useState(!1),[i,a]=S.useState(!1),[w,m]=S.useState(!0),[C,I]=S.useState(!1),[x,R]=S.useState(null);function A(){c.filename.trim().length===0||c.fileType.trim().length===0?$.notify("Please enter all fields."):(axios.put("/reports/"+c.id,{filename:c.filename,fileType:c.fileType,content:editor.ui.view.editable.element.innerHTML}).then(d=>{d.status===200?(y({filename:d.data.filename,fileType:d.data.fileType,id:d.data.id}),$.notify("Edited successfully","success")):$.notify("An error occurred")}).catch(d=>{$.notify(d)}),close())}function k(d=null){d??(d=!w),editor.ui.view.toolbar.element.style.display=d?"flex":"none",m(d)}function z(){C?editor.disableReadOnlyMode("lock-all"):editor.enableReadOnlyMode("lock-all")}function H(){c.id===null?E(!0):A()}return f("div",{className:"bg-white",children:[n(Gn,{setShowSaveModal:E,showSaveModal:P,fileDetails:c,setFileDetails:y,edit:A}),n(Vn,{setShowSavePDFModal:N,showSavePDFModal:b}),x&&n(Kn,{setShowLockModal:a,showLockModal:i,cell:x}),f("div",{className:"ml-4",children:[n("span",{className:"inline-flex rounded-md mr-6",children:"Report Details>"}),f("span",{className:"inline-flex rounded-md mr-6",children:["Name: ",c.filename]}),f("span",{className:"inline-flex rounded-md mr-6",children:["Type: ",c.fileType]}),c.id===null?n("span",{className:"inline-flex rounded-md mr-6",children:"Not saved"}):n("span",{className:"inline-flex rounded-md",children:n("button",{className:"inline-flex items-center px-3 py-2 border border-transparent",type:"button",onClick:()=>E(!0),children:n("span",{className:"hover:text-gray-700",children:"Edit Details"})})})]}),f("div",{children:[n("span",{className:"inline-flex rounded-md",children:n(Hn,{onClick:()=>k(),showTools:w})}),n(qn,{}),n(Jn,{}),n(Yn,{}),n("span",{className:"inline-flex rounded-md",children:n("button",{className:"inline-flex items-center px-3 py-2 border border-transparent",type:"button",onClick:H,children:n("span",{className:"hover:text-gray-700",children:"Save"})})}),n("span",{className:"inline-flex rounded-md",children:n("button",{className:"inline-flex items-center px-3 py-2 border border-transparent",type:"button",onClick:()=>N(!0),children:n("span",{className:"hover:text-gray-700",children:"download PDF"})})}),n(Qn,{onClick:z,readonly:C}),x&&n("span",{className:"inline-flex rounded-md",children:n("button",{className:"inline-flex items-center px-3 py-2 border border-transparent",type:"button",onClick:()=>a(!0),children:n("span",{className:"hover:text-gray-700 lock-button",children:"Lock"})})})]}),n(Un.CKEditor,{editor:ClassicEditor,config:{htmlSupport:{allow:[{name:/.*/,attributes:!0,classes:!0,styles:!0}],disallow:[]}},onReady:d=>{window.editor=d,d.plugins.get("FileRepository").createUploadAdapter=v=>new Bn(v),p.id!==null&&d.setData(p.content),d.on("change:isReadOnly",(v,M,g)=>{I(g)}),d.ui.view.editable.element.addEventListener("click",v=>{R(v.target.closest("td")??v.target.closest("th"))})}})]})}function so({auth:p,report:c}){return f($n,{user:p.user,children:[n(Fn,{title:"Records"}),n("div",{className:"p-0",children:n(Xn,{report:c})})]})}export{so as default};
