import{r as j,c as Ne,g as je,a as n,j as d,F as K,b as $n}from"./app-5960b47b.js";import{A as Fn}from"./AuthenticatedLayout-aedc67a3.js";import{M as qe}from"./Modal-d28ab9a9.js";import{P as de}from"./PrimaryButton-d8099d5e.js";import"./ApplicationLogo-1c9b6ac3.js";import"./transition-feff8603.js";var Ee={exports:{}};/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */Ee.exports;(function(l,f){(function(s,P){l.exports=P(j)})(self,s=>(()=>{var P={703:(c,h,y)=>{var v=y(414);function E(){}function W(){}W.resetWarningCache=E,c.exports=function(){function w(D,F,V,N,T,_){if(_!==v){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}function x(){return w}w.isRequired=w;var I={array:w,bigint:w,bool:w,func:w,number:w,object:w,string:w,symbol:w,any:w,arrayOf:x,element:w,elementType:w,instanceOf:x,node:w,objectOf:x,oneOf:x,oneOfType:x,shape:x,exact:x,checkPropTypes:W,resetWarningCache:E};return I.PropTypes=I,I}},697:(c,h,y)=>{c.exports=y(703)()},414:c=>{c.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:c=>{c.exports=s}},A={};function g(c){var h=A[c];if(h!==void 0)return h.exports;var y=A[c]={exports:{}};return P[c](y,y.exports,g),y.exports}g.n=c=>{var h=c&&c.__esModule?()=>c.default:()=>c;return g.d(h,{a:h}),h},g.d=(c,h)=>{for(var y in h)g.o(h,y)&&!g.o(c,y)&&Object.defineProperty(c,y,{enumerable:!0,get:h[y]})},g.o=(c,h)=>Object.prototype.hasOwnProperty.call(c,h),g.r=c=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})};var R={};return(()=>{g.r(R),g.d(R,{CKEditor:()=>ce,CKEditorContext:()=>Ue});var c=g(787),h=g.n(c),y=g(697),v=g.n(y);const E=new Array(256).fill("").map((e,t)=>("0"+t.toString(16)).slice(-2));class W{constructor(t){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof t.crashNumberLimit=="number"?t.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof t.minimumNonErrorTimePeriod=="number"?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=r=>{const o="error"in r?r.error:r.reason;o instanceof Error&&this._handleError(o,r)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,r){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(r)}off(t,r){this._listeners[t]=this._listeners[t].filter(o=>o!==r)}_fire(t,...r){const o=this._listeners[t]||[];for(const i of o)i.apply(this,[null,...r])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,r){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:r instanceof ErrorEvent?r.filename:void 0,lineno:r instanceof ErrorEvent?r.lineno:void 0,colno:r instanceof ErrorEvent?r.colno:void 0,date:this._now()});const o=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:o}),o?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&t.context!==void 0&&t.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(t)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function w(e,t=new Set){const r=[e],o=new Set;let i=0;for(;r.length>i;){const u=r[i++];if(!o.has(u)&&x(u)&&!t.has(u))if(o.add(u),Symbol.iterator in u)try{for(const p of u)r.push(p)}catch{}else for(const p in u)p!=="defaultValue"&&r.push(u[p])}return o}function x(e){const t=Object.prototype.toString.call(e),r=typeof e;return!(r==="number"||r==="boolean"||r==="string"||r==="symbol"||r==="function"||t==="[object Date]"||t==="[object RegExp]"||t==="[object Module]"||e==null||e._watchdogExcluded||e instanceof EventTarget||e instanceof Event)}function I(e,t,r=new Set){if(e===t&&typeof(o=e)=="object"&&o!==null)return!0;var o;const i=w(e,r),u=w(t,r);for(const p of i)if(u.has(p))return!0;return!1}const D=function(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")},F=typeof Ne=="object"&&Ne&&Ne.Object===Object&&Ne;var V=typeof self=="object"&&self&&self.Object===Object&&self;const N=F||V||Function("return this")(),T=function(){return N.Date.now()};var _=/\s/;const b=function(e){for(var t=e.length;t--&&_.test(e.charAt(t)););return t};var z=/^\s+/;const a=function(e){return e&&e.slice(0,b(e)+1).replace(z,"")},M=N.Symbol;var ue=Object.prototype,L=ue.hasOwnProperty,Ce=ue.toString,he=M?M.toStringTag:void 0;const Ft=function(e){var t=L.call(e,he),r=e[he];try{e[he]=void 0;var o=!0}catch{}var i=Ce.call(e);return o&&(t?e[he]=r:delete e[he]),i};var Lt=Object.prototype.toString;const Ut=function(e){return Lt.call(e)};var He=M?M.toStringTag:void 0;const Y=function(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":He&&He in Object(e)?Ft(e):Ut(e)},G=function(e){return e!=null&&typeof e=="object"},Bt=function(e){return typeof e=="symbol"||G(e)&&Y(e)=="[object Symbol]"};var qt=/^[-+]0x[0-9a-f]+$/i,Ht=/^0b[01]+$/i,Vt=/^0o[0-7]+$/i,Qt=parseInt;const Ve=function(e){if(typeof e=="number")return e;if(Bt(e))return NaN;if(D(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=D(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=a(e);var r=Ht.test(e);return r||Vt.test(e)?Qt(e.slice(2),r?2:8):qt.test(e)?NaN:+e};var Kt=Math.max,Gt=Math.min;const Yt=function(e,t,r){var o,i,u,p,m,k,O=0,xe=!1,ee=!1,q=!0;if(typeof e!="function")throw new TypeError("Expected a function");function le(U){var Q=o,re=i;return o=i=void 0,O=U,p=e.apply(re,Q)}function be(U){var Q=U-k;return k===void 0||Q>=t||Q<0||ee&&U-O>=u}function te(){var U=T();if(be(U))return B(U);m=setTimeout(te,function(Q){var re=t-(Q-k);return ee?Gt(re,u-(Q-O)):re}(U))}function B(U){return m=void 0,q&&o?le(U):(o=i=void 0,p)}function H(){var U=T(),Q=be(U);if(o=arguments,i=this,k=U,Q){if(m===void 0)return function(re){return O=re,m=setTimeout(te,t),xe?le(re):p}(k);if(ee)return clearTimeout(m),m=setTimeout(te,t),le(k)}return m===void 0&&(m=setTimeout(te,t)),p}return t=Ve(t)||0,D(r)&&(xe=!!r.leading,u=(ee="maxWait"in r)?Kt(Ve(r.maxWait)||0,t):u,q="trailing"in r?!!r.trailing:q),H.cancel=function(){m!==void 0&&clearTimeout(m),O=0,o=k=i=m=void 0},H.flush=function(){return m===void 0?p:B(T())},H},Jt=function(e,t,r){var o=!0,i=!0;if(typeof e!="function")throw new TypeError("Expected a function");return D(r)&&(o="leading"in r?!!r.leading:o,i="trailing"in r?!!r.trailing:i),Yt(e,t,{leading:o,maxWait:t,trailing:i})},Xt=function(){this.__data__=[],this.size=0},Qe=function(e,t){return e===t||e!=e&&t!=t},ge=function(e,t){for(var r=e.length;r--;)if(Qe(e[r][0],t))return r;return-1};var Zt=Array.prototype.splice;const er=function(e){var t=this.__data__,r=ge(t,e);return!(r<0)&&(r==t.length-1?t.pop():Zt.call(t,r,1),--this.size,!0)},tr=function(e){var t=this.__data__,r=ge(t,e);return r<0?void 0:t[r][1]},rr=function(e){return ge(this.__data__,e)>-1},nr=function(e,t){var r=this.__data__,o=ge(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this};function ne(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}ne.prototype.clear=Xt,ne.prototype.delete=er,ne.prototype.get=tr,ne.prototype.has=rr,ne.prototype.set=nr;const ve=ne,or=function(){this.__data__=new ve,this.size=0},ir=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},sr=function(e){return this.__data__.get(e)},ar=function(e){return this.__data__.has(e)},Ke=function(e){if(!D(e))return!1;var t=Y(e);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},Se=N["__core-js_shared__"];var Ge=function(){var e=/[^.]+$/.exec(Se&&Se.keys&&Se.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();const cr=function(e){return!!Ge&&Ge in e};var lr=Function.prototype.toString;const J=function(e){if(e!=null){try{return lr.call(e)}catch{}try{return e+""}catch{}}return""};var dr=/^\[object .+?Constructor\]$/,ur=Function.prototype,hr=Object.prototype,fr=ur.toString,pr=hr.hasOwnProperty,mr=RegExp("^"+fr.call(pr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const yr=function(e){return!(!D(e)||cr(e))&&(Ke(e)?mr:dr).test(J(e))},br=function(e,t){return e==null?void 0:e[t]},X=function(e,t){var r=br(e,t);return yr(r)?r:void 0},fe=X(N,"Map"),pe=X(Object,"create"),gr=function(){this.__data__=pe?pe(null):{},this.size=0},vr=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var _r=Object.prototype.hasOwnProperty;const wr=function(e){var t=this.__data__;if(pe){var r=t[e];return r==="__lodash_hash_undefined__"?void 0:r}return _r.call(t,e)?t[e]:void 0};var xr=Object.prototype.hasOwnProperty;const Nr=function(e){var t=this.__data__;return pe?t[e]!==void 0:xr.call(t,e)},jr=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=pe&&t===void 0?"__lodash_hash_undefined__":t,this};function oe(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}oe.prototype.clear=gr,oe.prototype.delete=vr,oe.prototype.get=wr,oe.prototype.has=Nr,oe.prototype.set=jr;const Ye=oe,Er=function(){this.size=0,this.__data__={hash:new Ye,map:new(fe||ve),string:new Ye}},Cr=function(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null},_e=function(e,t){var r=e.__data__;return Cr(t)?r[typeof t=="string"?"string":"hash"]:r.map},Sr=function(e){var t=_e(this,e).delete(e);return this.size-=t?1:0,t},Tr=function(e){return _e(this,e).get(e)},Ar=function(e){return _e(this,e).has(e)},Or=function(e,t){var r=_e(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this};function ie(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}ie.prototype.clear=Er,ie.prototype.delete=Sr,ie.prototype.get=Tr,ie.prototype.has=Ar,ie.prototype.set=Or;const kr=ie,Pr=function(e,t){var r=this.__data__;if(r instanceof ve){var o=r.__data__;if(!fe||o.length<199)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new kr(o)}return r.set(e,t),this.size=r.size,this};function se(e){var t=this.__data__=new ve(e);this.size=t.size}se.prototype.clear=or,se.prototype.delete=ir,se.prototype.get=sr,se.prototype.has=ar,se.prototype.set=Pr;const Rr=se,Mr=function(e,t){for(var r=-1,o=e==null?0:e.length;++r<o&&t(e[r],r,e)!==!1;);return e},Je=function(){try{var e=X(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Xe=function(e,t,r){t=="__proto__"&&Je?Je(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r};var Dr=Object.prototype.hasOwnProperty;const Ze=function(e,t,r){var o=e[t];Dr.call(e,t)&&Qe(o,r)&&(r!==void 0||t in e)||Xe(e,t,r)},we=function(e,t,r,o){var i=!r;r||(r={});for(var u=-1,p=t.length;++u<p;){var m=t[u],k=o?o(r[m],e[m],m,r,e):void 0;k===void 0&&(k=e[m]),i?Xe(r,m,k):Ze(r,m,k)}return r},Wr=function(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o},et=function(e){return G(e)&&Y(e)=="[object Arguments]"};var tt=Object.prototype,Ir=tt.hasOwnProperty,zr=tt.propertyIsEnumerable;const $r=et(function(){return arguments}())?et:function(e){return G(e)&&Ir.call(e,"callee")&&!zr.call(e,"callee")},Te=Array.isArray,Fr=function(){return!1};var rt=f&&!f.nodeType&&f,nt=rt&&!0&&l&&!l.nodeType&&l,ot=nt&&nt.exports===rt?N.Buffer:void 0;const it=(ot?ot.isBuffer:void 0)||Fr;var Lr=/^(?:0|[1-9]\d*)$/;const Ur=function(e,t){var r=typeof e;return!!(t=t??9007199254740991)&&(r=="number"||r!="symbol"&&Lr.test(e))&&e>-1&&e%1==0&&e<t},st=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991};var S={};S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S["[object Arguments]"]=S["[object Array]"]=S["[object ArrayBuffer]"]=S["[object Boolean]"]=S["[object DataView]"]=S["[object Date]"]=S["[object Error]"]=S["[object Function]"]=S["[object Map]"]=S["[object Number]"]=S["[object Object]"]=S["[object RegExp]"]=S["[object Set]"]=S["[object String]"]=S["[object WeakMap]"]=!1;const Br=function(e){return G(e)&&st(e.length)&&!!S[Y(e)]},Ae=function(e){return function(t){return e(t)}};var at=f&&!f.nodeType&&f,me=at&&!0&&l&&!l.nodeType&&l,Oe=me&&me.exports===at&&F.process;const ae=function(){try{var e=me&&me.require&&me.require("util").types;return e||Oe&&Oe.binding&&Oe.binding("util")}catch{}}();var ct=ae&&ae.isTypedArray;const qr=ct?Ae(ct):Br;var Hr=Object.prototype.hasOwnProperty;const lt=function(e,t){var r=Te(e),o=!r&&$r(e),i=!r&&!o&&it(e),u=!r&&!o&&!i&&qr(e),p=r||o||i||u,m=p?Wr(e.length,String):[],k=m.length;for(var O in e)!t&&!Hr.call(e,O)||p&&(O=="length"||i&&(O=="offset"||O=="parent")||u&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||Ur(O,k))||m.push(O);return m};var Vr=Object.prototype;const ke=function(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||Vr)},dt=function(e,t){return function(r){return e(t(r))}},Qr=dt(Object.keys,Object);var Kr=Object.prototype.hasOwnProperty;const Gr=function(e){if(!ke(e))return Qr(e);var t=[];for(var r in Object(e))Kr.call(e,r)&&r!="constructor"&&t.push(r);return t},ut=function(e){return e!=null&&st(e.length)&&!Ke(e)},Pe=function(e){return ut(e)?lt(e):Gr(e)},Yr=function(e,t){return e&&we(t,Pe(t),e)},Jr=function(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t};var Xr=Object.prototype.hasOwnProperty;const Zr=function(e){if(!D(e))return Jr(e);var t=ke(e),r=[];for(var o in e)(o!="constructor"||!t&&Xr.call(e,o))&&r.push(o);return r},Re=function(e){return ut(e)?lt(e,!0):Zr(e)},en=function(e,t){return e&&we(t,Re(t),e)};var ht=f&&!f.nodeType&&f,ft=ht&&!0&&l&&!l.nodeType&&l,pt=ft&&ft.exports===ht?N.Buffer:void 0,mt=pt?pt.allocUnsafe:void 0;const tn=function(e,t){if(t)return e.slice();var r=e.length,o=mt?mt(r):new e.constructor(r);return e.copy(o),o},rn=function(e,t){var r=-1,o=e.length;for(t||(t=Array(o));++r<o;)t[r]=e[r];return t},nn=function(e,t){for(var r=-1,o=e==null?0:e.length,i=0,u=[];++r<o;){var p=e[r];t(p,r,e)&&(u[i++]=p)}return u},yt=function(){return[]};var on=Object.prototype.propertyIsEnumerable,bt=Object.getOwnPropertySymbols;const Me=bt?function(e){return e==null?[]:(e=Object(e),nn(bt(e),function(t){return on.call(e,t)}))}:yt,sn=function(e,t){return we(e,Me(e),t)},gt=function(e,t){for(var r=-1,o=t.length,i=e.length;++r<o;)e[i+r]=t[r];return e},De=dt(Object.getPrototypeOf,Object),vt=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)gt(t,Me(e)),e=De(e);return t}:yt,an=function(e,t){return we(e,vt(e),t)},_t=function(e,t,r){var o=t(e);return Te(e)?o:gt(o,r(e))},cn=function(e){return _t(e,Pe,Me)},ln=function(e){return _t(e,Re,vt)},We=X(N,"DataView"),Ie=X(N,"Promise"),ze=X(N,"Set"),$e=X(N,"WeakMap");var wt="[object Map]",xt="[object Promise]",Nt="[object Set]",jt="[object WeakMap]",Et="[object DataView]",dn=J(We),un=J(fe),hn=J(Ie),fn=J(ze),pn=J($e),Z=Y;(We&&Z(new We(new ArrayBuffer(1)))!=Et||fe&&Z(new fe)!=wt||Ie&&Z(Ie.resolve())!=xt||ze&&Z(new ze)!=Nt||$e&&Z(new $e)!=jt)&&(Z=function(e){var t=Y(e),r=t=="[object Object]"?e.constructor:void 0,o=r?J(r):"";if(o)switch(o){case dn:return Et;case un:return wt;case hn:return xt;case fn:return Nt;case pn:return jt}return t});const Fe=Z;var mn=Object.prototype.hasOwnProperty;const yn=function(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&mn.call(e,"index")&&(r.index=e.index,r.input=e.input),r},Ct=N.Uint8Array,Le=function(e){var t=new e.constructor(e.byteLength);return new Ct(t).set(new Ct(e)),t},bn=function(e,t){var r=t?Le(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)};var gn=/\w*$/;const vn=function(e){var t=new e.constructor(e.source,gn.exec(e));return t.lastIndex=e.lastIndex,t};var St=M?M.prototype:void 0,Tt=St?St.valueOf:void 0;const _n=function(e){return Tt?Object(Tt.call(e)):{}},wn=function(e,t){var r=t?Le(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)},xn=function(e,t,r){var o=e.constructor;switch(t){case"[object ArrayBuffer]":return Le(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return bn(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return wn(e,r);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return vn(e);case"[object Symbol]":return _n(e)}};var At=Object.create;const Nn=function(){function e(){}return function(t){if(!D(t))return{};if(At)return At(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),jn=function(e){return typeof e.constructor!="function"||ke(e)?{}:Nn(De(e))},En=function(e){return G(e)&&Fe(e)=="[object Map]"};var Ot=ae&&ae.isMap;const Cn=Ot?Ae(Ot):En,Sn=function(e){return G(e)&&Fe(e)=="[object Set]"};var kt=ae&&ae.isSet;const Tn=kt?Ae(kt):Sn;var Pt="[object Arguments]",Rt="[object Function]",Mt="[object Object]",C={};C[Pt]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C[Mt]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C[Rt]=C["[object WeakMap]"]=!1;const An=function e(t,r,o,i,u,p){var m,k=1&r,O=2&r,xe=4&r;if(o&&(m=u?o(t,i,u,p):o(t)),m!==void 0)return m;if(!D(t))return t;var ee=Te(t);if(ee){if(m=yn(t),!k)return rn(t,m)}else{var q=Fe(t),le=q==Rt||q=="[object GeneratorFunction]";if(it(t))return tn(t,k);if(q==Mt||q==Pt||le&&!u){if(m=O||le?{}:jn(t),!k)return O?an(t,en(m,t)):sn(t,Yr(m,t))}else{if(!C[q])return u?t:{};m=xn(t,q,k)}}p||(p=new Rr);var be=p.get(t);if(be)return be;p.set(t,m),Tn(t)?t.forEach(function(B){m.add(e(B,r,o,B,t,p))}):Cn(t)&&t.forEach(function(B,H){m.set(H,e(B,r,o,H,t,p))});var te=ee?void 0:(xe?O?ln:cn:O?Re:Pe)(t);return Mr(te||t,function(B,H){te&&(B=t[H=B]),Ze(m,H,e(B,r,o,H,t,p))}),m},On=function(e,t){return An(e,5,t=typeof t=="function"?t:void 0)};var kn=Function.prototype,Pn=Object.prototype,Dt=kn.toString,Rn=Pn.hasOwnProperty,Mn=Dt.call(Object);const Dn=function(e){if(!G(e)||Y(e)!="[object Object]")return!1;var t=De(e);if(t===null)return!0;var r=Rn.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Dt.call(r)==Mn},Wn=function(e){return G(e)&&e.nodeType===1&&!Dn(e)};class Wt extends W{constructor(t,r={}){super(r),this._editor=null,this._throttledSave=Jt(this._save.bind(this),typeof r.saveInterval=="number"?r.saveInterval:5e3),t&&(this._creator=(o,i)=>t.create(o,i)),this._destructor=o=>o.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(t=>{console.error("An error happened during the editor destroying.",t)}).then(()=>{if(typeof this._elementOrData=="string")return this.create(this._data,this._config,this._config.context);{const t=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,t,t.context)}}).then(()=>{this._fire("restart")})}create(t=this._elementOrData,r=this._config,o){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=t,this._config=this._cloneEditorConfiguration(r)||{},this._config.context=o,this._creator(t,this._config))).then(i=>{this._editor=i,i.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=i.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const t=this._editor;return this._editor=null,t.model.document.off("change:data",this._throttledSave),this._destructor(t)})}_save(){const t=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=t}catch(r){console.error(r,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(t){this._excludedProps=t}_getData(){const t={};for(const r of this._editor.model.document.getRootNames())t[r]=this._editor.data.get({rootName:r});return t}_isErrorComingFromThisItem(t){return I(this._editor,t.context,this._excludedProps)}_cloneEditorConfiguration(t){return On(t,(r,o)=>Wn(r)||o==="context"?r:void 0)}}const ye=Symbol("MainQueueId");class It extends W{constructor(t,r={}){super(r),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new In,this._watchdogConfig=r,this._creator=o=>t.create(o),this._destructor=o=>o.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}get context(){return this._context}create(t={}){return this._actionQueues.enqueue(ye,()=>(this._contextConfig=t,this._create()))}getItem(t){return this._getWatchdog(t)._item}getItemState(t){return this._getWatchdog(t).state}add(t){const r=zt(t);return Promise.all(r.map(o=>this._actionQueues.enqueue(o.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let i;if(this._watchdogs.has(o.id))throw new Error(`Item with the given id is already added: '${o.id}'.`);if(o.type==="editor")return i=new Wt(null,this._watchdogConfig),i.setCreator(o.creator),i._setExcludedProperties(this._contextProps),o.destructor&&i.setDestructor(o.destructor),this._watchdogs.set(o.id,i),i.on("error",(u,{error:p,causesRestart:m})=>{this._fire("itemError",{itemId:o.id,error:p}),m&&this._actionQueues.enqueue(o.id,()=>new Promise(k=>{const O=()=>{i.off("restart",O),this._fire("itemRestart",{itemId:o.id}),k()};i.on("restart",O)}))}),i.create(o.sourceElementOrData,o.config,this._context);throw new Error(`Not supported item type: '${o.type}'.`)})))}remove(t){const r=zt(t);return Promise.all(r.map(o=>this._actionQueues.enqueue(o,()=>{const i=this._getWatchdog(o);return this._watchdogs.delete(o),i.destroy()})))}destroy(){return this._actionQueues.enqueue(ye,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(ye,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(t=>{console.error("An error happened during destroying the context or items.",t)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(t=>(this._context=t,this._contextProps=w(this._context),Promise.all(Array.from(this._watchdogs.values()).map(r=>(r._setExcludedProperties(this._contextProps),r.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const t=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(r=>r.destroy())).then(()=>this._destructor(t))})}_getWatchdog(t){const r=this._watchdogs.get(t);if(!r)throw new Error(`Item with the given id was not registered: ${t}.`);return r}_isErrorComingFromThisItem(t){for(const r of this._watchdogs.values())if(r._isErrorComingFromThisItem(t))return!1;return I(this._context,t.context)}}class In{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(t){this._onEmptyCallbacks.push(t)}enqueue(t,r){const o=t===ye;this._activeActions++,this._queues.get(t)||this._queues.set(t,Promise.resolve());const i=(o?Promise.all(this._queues.values()):Promise.all([this._queues.get(ye),this._queues.get(t)])).then(r),u=i.catch(()=>{});return this._queues.set(t,u),i.finally(()=>{this._activeActions--,this._queues.get(t)===u&&this._activeActions===0&&this._onEmptyCallbacks.forEach(p=>p())})}}function zt(e){return Array.isArray(e)?e:[e]}const $t=h().createContext("contextWatchdog");class Ue extends h().Component{constructor(t,r){super(t,r),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(t){return this._shouldComponentUpdate(t)}async _shouldComponentUpdate(t){return t.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(t.config)),t.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(t.config),!0):this.props.children!==t.children}render(){return h().createElement($t.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(t){this.contextWatchdog=new It(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(r,o)=>{this.props.onError(o.error,{phase:"runtime",willContextRestart:o.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(t).catch(r=>{this.props.onError(r,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}Ue.defaultProps={isLayoutReady:!0,onError:(e,t)=>console.error(e,t)},Ue.propTypes={id:v().string,isLayoutReady:v().bool,context:v().func,watchdogConfig:v().object,config:v().object,onReady:v().func,onError:v().func};const Be="Lock from React integration (@ckeditor/ckeditor5-react)";class ce extends h().Component{constructor(t){super(t),this.editorDestructionInProgress=null,this.domContainer=h().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:r}=window;if(r){const[o]=r.split(".").map(Number);o<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.props.disableWatchdog?this.instance:this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(t){return!!this.editor&&(t.id!==this.props.id||t.disableWatchdog!==this.props.disableWatchdog||(this._shouldUpdateEditor(t)&&this.editor.data.set(t.data),"disabled"in t&&(t.disabled?this.editor.enableReadOnlyMode(Be):this.editor.disableReadOnlyMode(Be)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return h().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.props.disableWatchdog?this.instance=await this._createEditor(this.domContainer.current,this._getConfig()):this.watchdog||(this.context instanceof It?this.watchdog=new zn(this.context):this.watchdog=new ce._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((t,r)=>this._createEditor(t,r)),this.watchdog.on("error",(t,{error:r,causesRestart:o})=>{(this.props.onError||console.error)(r,{phase:"runtime",willEditorRestart:o})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(t=>{(this.props.onError||console.error)(t,{phase:"initialization",willEditorRestart:!1})}))}_createEditor(t,r){return this.props.editor.create(t,r).then(o=>{"disabled"in this.props&&this.props.disabled&&o.enableReadOnlyMode(Be);const i=o.model.document,u=o.editing.view.document;return i.on("change:data",p=>{this.props.onChange&&this.props.onChange(p,o)}),u.on("focus",p=>{this.props.onFocus&&this.props.onFocus(p,o)}),u.on("blur",p=>{this.props.onBlur&&this.props.onBlur(p,o)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(o)}),o})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(t=>{setTimeout(async()=>this.watchdog?(await this.watchdog.destroy(),this.watchdog=null,t()):this.instance?(await this.instance.destroy(),this.instance=null,t()):void t())})}_shouldUpdateEditor(t){return this.props.data!==t.data&&this.editor.data.get()!==t.data}_getConfig(){const t=this.props.config||{};return this.props.data&&t.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` properties. The config property is over the data value and the first one will be used when specified both."),{...t,initialData:t.initialData||this.props.data||""}}}ce.contextType=$t,ce.propTypes={editor:v().func.isRequired,data:v().string,config:v().object,disableWatchdog:v().bool,watchdogConfig:v().object,onChange:v().func,onReady:v().func,onFocus:v().func,onBlur:v().func,onError:v().func,disabled:v().bool,id:v().any},ce._EditorWatchdog=Wt;class zn{constructor(t){this._contextWatchdog=t,this._id=function(){const r=4294967296*Math.random()>>>0,o=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0,u=4294967296*Math.random()>>>0;return"e"+E[r>>0&255]+E[r>>8&255]+E[r>>16&255]+E[r>>24&255]+E[o>>0&255]+E[o>>8&255]+E[o>>16&255]+E[o>>24&255]+E[i>>0&255]+E[i>>8&255]+E[i>>16&255]+E[i>>24&255]+E[u>>0&255]+E[u>>8&255]+E[u>>16&255]+E[u>>24&255]}()}setCreator(t){this._creator=t}create(t,r){return this._contextWatchdog.add({sourceElementOrData:t,config:r,creator:this._creator,id:this._id,type:"editor"})}on(t,r){this._contextWatchdog.on("itemError",(o,{itemId:i,error:u})=>{i===this._id&&r(null,{error:u,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}})(),R})())})(Ee,Ee.exports);var Ln=Ee.exports;class Un{constructor(f){this.loader=f}upload(){return this.loader.file.then(f=>new Promise((s,P)=>{je.post("/upload",{file:f},{forceFormData:!0,onSuccess(A){s({default:A.props.flash.success.urls.default})}})}))}abort(){console.log("abort")}}const Bn=Un;function qn(){const[l,f]=j.useState(!1),[s,P]=j.useState(n("tr",{})),A="filesTable";function g(){axios.get("/upload").then(R=>{P(R.data.map(c=>d("tr",{children:[n("td",{children:c.file_name}),n("td",{children:c.name}),n("td",{children:c.mime_type}),n("td",{children:n("a",{href:"/storage/"+c.path,target:"_blank",children:n("u",{children:"view"})})}),n("td",{children:n("button",{className:"border p-2 inline-flex items-center px-4 py-2 bg-gray-800 border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 focus:bg-gray-700 active:bg-gray-900 focus:outline-none focus:ring-2",type:"button",onClick:()=>navigator.clipboard.writeText("/storage/"+c.path),children:"Copy Url"})})]},c.id))),f(!0),$(document).ready(function(){$("#"+A).DataTable({columnDefs:[{searchable:!1,targets:[3,4]}]})})})}return d(K,{children:[n("span",{className:"inline-flex rounded-md",children:n("button",{className:"inline-flex items-center px-3 py-2 border border-transparent",type:"button",onClick:g,children:n("span",{className:"hover:text-gray-700",children:"view uploads"})})}),l?d(K,{children:[n("div",{className:"flex overflow-y-auto fixed inset-10 z-50 outline-none focus:outline-none",children:n("div",{className:"relative w-auto my-6 mx-auto",children:d("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[d("div",{className:"flex items-start justify-between p-2 border-b border-solid border-slate-200 rounded-t",children:[n("h3",{className:"text-3xl font-semibold justify-center p-2",children:"Uploaded Files"}),n("button",{className:"p-2 ml-auto border-0 text-black float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:()=>f(!1),children:n("span",{className:"text-black h-6 w-6 text-4xl block outline-none focus:outline-none",children:"×"})})]}),n("div",{className:"relative p-6 flex-auto",children:n("div",{className:"w-full",children:d("table",{id:A,"data-order":"[]",className:"cell-border display w-full overflow-y-auto",children:[n("thead",{children:d("tr",{children:[n("th",{children:"Filename"}),n("th",{children:"Alias"}),n("th",{children:"Mimetype"}),n("th",{children:"Link"}),n("th",{children:"COPY URL"})]})}),n("tbody",{children:s})]})})})]})})}),n("div",{className:"opacity-25 fixed inset-0 z-40 bg-black",onClick:()=>f(!1)})]}):null]})}function Hn({showTools:l,onClick:f}){return n(K,{children:n("button",{className:"inline-flex items-center px-3 py-2 border border-transparent",type:"button",onClick:f,children:d("span",{className:"hover:text-gray-700",children:["editor tools",n("span",{children:n("svg",{style:l?{transform:"rotate(180deg)"}:{},className:"ml-2 -mr-0.5 h-4 w-4 inline-flex",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:n("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})})})}function Vn({setShowSavePDFModal:l,showSavePDFModal:f}){const[s,P]=j.useState({filename:"",pdfType:"image"}),[A,g]=j.useState(!1);function R(h){P({...s,[h.target.name]:h.target.value})}function c(){if(s.filename.trim().length===0||s.pdfType.trim().length===0)g(!0);else{if(s.pdfType==="image"){let h=document.querySelector(".ck.ck-editor__editable_inline"),y=h.style.border;h.style.removeProperty("border");let v=document.getElementsByClassName("ck-editor__main")[0];html2pdf().set({filename:s.filename+".pdf",image:{type:"jpeg",quality:.98}}).from(v).save(),h.style.border=y}l(!1)}}return n(qe,{onClose:()=>l(!1),show:f,children:d("div",{className:"px-6 py-6",children:[n("label",{className:"mr-2",children:"Enter filename"}),n("input",{name:"filename",type:"text",onInput:R}),n("span",{children:" .pdf"}),n("br",{}),n("br",{}),n("span",{className:"text-red-600",hidden:!A,children:"*Please fill all fields"}),d("div",{children:[n("br",{}),n(de,{className:"mr-6",onClick:c,children:"Download"}),n(de,{className:"bg-red-600 hover:bg-red-600",onClick:()=>l(!1),children:"Cancel"})]})]})})}function Qn({readonly:l,onClick:f}){return n(K,{children:n("button",{className:"inline-flex items-center px-3 py-2 border border-transparent",type:"button",onClick:f,children:n("span",{className:"hover:text-gray-700",children:l?"Edit":"Readonly"})})})}function Kn({setShowLockModal:l,showLockModal:f,cell:s}){const[P,A]=j.useState(""),[g,R]=j.useState(""),[c,h]=j.useState(!1),[y,v]=j.useState([]),E=s.closest("tr"),W=s.closest("table");function w(){y.forEach(N=>{N.className=g}),V(),loadData(editor.ui.view.editable.element.innerHTML),x()}function x(){setTimeout(()=>{const N=document.getElementsByClassName("perm-admin"),T=document.getElementsByClassName("perm-supervisor"),_=document.getElementsByClassName("perm-employee");for(let b of N)b.className+=" bg-red-600";for(let b of T)b.className+=" bg-yellow-300";for(let b of _)b.className+=" bg-green-800"},500),setTimeout(()=>{const N=document.getElementsByClassName("perm-admin"),T=document.getElementsByClassName("perm-supervisor"),_=document.getElementsByClassName("perm-employee");for(let b of N)b.className=b.className.replace("bg-red-600","");for(let b of T)b.className=b.className.replace("bg-yellow-300","");for(let b of _)b.className=b.className.replace("bg-green-800","")},3e3)}function I(N){v(N);let T=null,_=!0;N.forEach(b=>{const z=b.className.search("perm-"),a=z===-1?"perm-all":b.className.substring(z).split(" ")[0];T===null?T=a:T!==a&&(_=!1)}),R(_&&T!==null?T:"")}function D(N){const T=N.target.value;if(A(T),T==="Cell")I([s]);else if(T==="Table")I(W.cells);else if(T==="Row")I(E.cells);else if(T==="Column"){const _=s.cellIndex;let b=[];W.rows.forEach(z=>{let a=z.cells[_];a&&b.push(a)}),I(b)}}function F(N){R(N.target.value)}function V(){l(!1),A(""),R(""),h(!1),v([])}return n(qe,{onClose:V,show:f,children:d("div",{className:"px-6 py-6",children:[n("label",{className:"mr-2",children:"Choose Element"}),d("select",{name:"element",onChange:D,value:P,children:[n("option",{value:""}),n("option",{value:"Cell",children:"Cell"}),n("option",{value:"Row",children:"Row"}),n("option",{value:"Column",children:"Column"}),n("option",{value:"Table",children:"Table"})]}),n("br",{}),n("br",{}),d("div",{children:[n("div",{children:"Choose Permissions"}),d("div",{className:"md:flex items-center",children:[n("input",{className:"ml-2 mr-2",type:"radio",name:"permissions",value:"perm-all",checked:g==="perm-all",onChange:F}),n("label",{children:"All"}),n("input",{className:"ml-4 mr-2",type:"radio",name:"permissions",value:"perm-admin",checked:g==="perm-admin",onChange:F}),n("label",{children:"Admin Only"}),n("span",{className:"ml-1 rounded-bl-2xl bg-red-600 h-4 w-4"})]}),n("span",{className:"ml-2",children:"Admin and "}),n("br",{}),d("div",{className:"md:flex items-center",children:[n("input",{className:"ml-2 mr-2",type:"radio",name:"permissions",value:"perm-supervisor",checked:g==="perm-supervisor",onChange:F}),n("label",{children:"Supervisor"}),n("span",{className:"ml-1 rounded-bl-2xl bg-yellow-300 h-4 w-4"}),n("input",{className:"ml-4 mr-2",type:"radio",name:"permissions",value:"perm-employee",checked:g==="perm-employee",onChange:F}),n("label",{children:"Employee"}),n("span",{className:"ml-1 rounded-bl-2xl bg-green-800 h-4 w-4"})]})]}),n("span",{className:"text-red-600",hidden:!c,children:"*Please fill all fields"}),d("div",{children:[n("br",{}),n(de,{className:"mr-6",onClick:w,children:"Apply"}),n(de,{className:"bg-red-600 hover:bg-red-600",onClick:()=>l(!1),children:"Cancel"})]})]})})}function Gn({setShowSaveModal:l,showSaveModal:f,fileDetails:s,setFileDetails:P,edit:A,user:g}){const[R,c]=j.useState(!1),[h,y]=j.useState(n("tr",{})),[v,E]=j.useState(!1),[W,w]=j.useState({}),[x,I]=j.useState({}),D="membersTable",[F,V]=j.useState({});j.useEffect(()=>{I({...x,...F})},[F]);function N(a,M){V({[a]:M})}function T(){axios.get("/users").then(a=>{if(a.status===200){let M={};a.data.forEach(L=>{M[L.id]=L}),w(M);let ue={};a.data.forEach(L=>{ue[L.id.toString()]=!1}),I({...x,...ue}),y(a.data.map(L=>d("tr",{children:[n("td",{children:L.name}),n("td",{children:L.email}),n("td",{children:L.role}),n("td",{children:n("input",{type:"checkbox",className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500 ",checked:x[L.id],onChange:Ce=>N([L.id],Ce.target.checked)})})]},L.id))),E(!0),$(document).ready(function(){$("#"+D).DataTable({columnDefs:[{searchable:!1,targets:[3]}]})})}else $.notify("an error occurred")}).catch(a=>{$.notify(a.message)})}function _(){s.filename.trim().length===0||s.fileType.trim().length===0?c(!0):(s.id!==null?A():axios.post("/reports",{filename:s.filename,fileType:s.fileType,content:editor.ui.view.editable.element.innerHTML,share:Object.keys(x).filter(a=>x[a]).toString()}).then(a=>{a.status===200?(P({filename:a.data.filename,fileType:a.data.fileType,id:a.data.id}),$.notify("Saved successfully","success")):$.notify("An error occurred")}).catch(a=>{$.notify(a)}),z())}function b(a){P({...s,[a.target.name]:a.target.value})}function z(){l(!1),E(!1)}return n(qe,{onClose:z,show:f,children:d("div",{className:"px-6 py-6",children:[n("label",{className:"mr-2",children:"Enter Name"}),n("input",{name:"filename",type:"text",value:s.filename,onInput:b}),n("br",{}),n("br",{}),g.isAdmin&&d(K,{children:[n("label",{className:"mr-2",children:"As"}),d("select",{name:"fileType",value:s.fileType,onChange:b,children:[n("option",{value:""}),n("option",{value:"report",children:"Report"}),n("option",{value:"template",children:"Template"})]}),n("br",{}),n("br",{})]}),!g.isAdmin&&d("button",{className:"inline-flex items-center py-2 border border-transparent",type:"button",onClick:T,children:[n("span",{className:"hover:text-gray-700",children:"Share With:"}),n("span",{children:Object.keys(x).filter(a=>x[a]).map(a=>W[a].email).toString()})]}),n("div",{className:"relative p-6 flex-auto",children:n("div",{className:"w-full",children:d("table",{id:D,"data-order":"[]",className:"cell-border display w-full overflow-y-auto",hidden:!v,children:[n("thead",{children:d("tr",{children:[n("th",{children:"Name"}),n("th",{children:"Email"}),n("th",{children:"Role"}),n("th",{children:"Select"})]})}),n("tbody",{children:h})]})})}),n("span",{className:"text-red-600",hidden:!R,children:"*Please fill all fields"}),d("div",{children:[n("br",{}),n(de,{className:"mr-6",onClick:_,children:"Save"}),n(de,{className:"bg-red-600 hover:bg-red-600",onClick:z,children:"Cancel"})]})]})})}function Yn({user:l}){const[f,s]=j.useState(!1),[P,A]=j.useState(n("tr",{})),g="templatesTable";function R(){axios.get("/templates").then(h=>{h.status===200?(A(h.data.map(y=>d("tr",{children:[n("td",{children:y.filename}),n("td",{children:y.fileType}),n("td",{children:y.created_at}),n("td",{children:y.updated_at}),n("td",{children:n("u",{className:"cursor-pointer",onClick:()=>{c(y.id),$.notify("Loaded "+y.filename,"info")},children:"load"})}),l.isAdmin&&n("td",{children:n("u",{className:"cursor-pointer",onClick:()=>{je.get("/reports",{reportId:y.id})},children:"edit"})})]},y.id))),s(!0),$(document).ready(function(){$("#"+g).DataTable({columnDefs:[{searchable:!1,targets:[1,4]}]})})):$.notify("an error occurred")}).catch(h=>{$.notify(h.message)})}function c(h){axios.get("/template/"+h).then(y=>{y.status===200?loadData(y.data.content):$.notify("an error occurred")}).catch(y=>{$.notify(y.message)})}return d(K,{children:[n("span",{className:"inline-flex rounded-md",children:n("button",{className:"inline-flex items-center px-3 py-2 border border-transparent",type:"button",onClick:R,children:n("span",{className:"hover:text-gray-700",children:"templates"})})}),f?d(K,{children:[n("div",{className:"flex overflow-y-auto fixed inset-10 z-50 outline-none focus:outline-none",children:n("div",{className:"relative w-auto my-6 mx-auto",children:d("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[d("div",{className:"flex items-start justify-between p-2 border-b border-solid border-slate-200 rounded-t",children:[n("h3",{className:"text-3xl font-semibold justify-center p-2",children:"Templates"}),n("button",{className:"p-2 ml-auto border-0 text-black float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:()=>s(!1),children:n("span",{className:"text-black h-6 w-6 text-4xl block outline-none focus:outline-none",children:"×"})})]}),n("div",{className:"relative p-6 flex-auto",children:n("div",{className:"w-full",children:d("table",{id:g,"data-order":"[]",className:"cell-border display w-full overflow-y-auto",children:[n("thead",{children:d("tr",{children:[n("th",{children:"Filename"}),n("th",{children:"Type"}),n("th",{children:"Created At"}),n("th",{children:"Updated At"}),n("th",{}),l.isAdmin&&n("th",{})]})}),n("tbody",{children:P})]})})})]})})}),n("div",{className:"opacity-25 fixed inset-0 z-40 bg-black",onClick:()=>s(!1)})]}):null]})}function Jn({user:l}){const[f,s]=j.useState(!1),[P,A]=j.useState(!0),[g,R]=j.useState(n("tr",{})),c="reportsTable",[h,y]=j.useState(l.isAdmin?"Reports":"My Reports");function v(W="/reports/create"){l.isAdmin||y(W.endsWith("create")?"My Reports":"Shared With Me"),axios.get(W).then(w=>{w.status===200?(R(w.data.map(x=>d("tr",{children:[n("td",{children:x.filename}),n("td",{children:x.fileType}),n("td",{children:x.created_at}),n("td",{children:x.updated_at}),n("td",{children:n("u",{className:"cursor-pointer",onClick:()=>{je.get("/reports",{reportId:x.id})},children:"edit"})})]},x.id))),s(!0),$(document).ready(function(){$("#"+c).DataTable({columnDefs:[{searchable:!1,targets:[1,4]}]})})):$.notify("an error occurred")}).catch(w=>{$.notify(w.message)})}let E=l.isAdmin?{onClick:()=>v()}:{onMouseEnter:()=>A(!1),onMouseLeave:()=>A(!0)};return d(K,{children:[d("div",{className:"relative inline-block text-left",children:[n("span",{className:"inline-flex rounded-md",children:n("button",{className:"inline-flex items-center px-3 py-2 border border-transparent",type:"button",...E,children:n("span",{className:"hover:text-gray-700",children:"reports"})})}),n("div",{className:"absolute right-0 z-10 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabIndex:"-1",hidden:P,onMouseEnter:()=>A(!1),onMouseLeave:()=>A(!0),children:d("div",{className:"py-1",role:"none",children:[n("button",{className:"inline-flex items-center px-4 py-2 border border-transparent",type:"button",onClick:()=>je.get("/reports"),children:n("span",{className:"hover:text-gray-700",children:"New"})}),n("br",{}),n("button",{className:"inline-flex items-center px-4 py-2 border border-transparent",type:"button",onClick:()=>v(),children:n("span",{className:"hover:text-gray-700",children:"My Reports"})}),n("br",{}),n("button",{className:"inline-flex items-center px-4 py-2 border border-transparent",type:"button",onClick:()=>v("/reports/shared"),children:n("span",{className:"hover:text-gray-700",children:"Shared with me"})})]})})]}),f?d(K,{children:[n("div",{className:"flex overflow-y-auto fixed inset-10 z-50 outline-none focus:outline-none",children:n("div",{className:"relative w-auto my-6 mx-auto",children:d("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[d("div",{className:"flex items-start justify-between p-2 border-b border-solid border-slate-200 rounded-t",children:[n("h3",{className:"text-3xl font-semibold justify-center p-2",children:h}),n("button",{className:"p-2 ml-auto border-0 text-black float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:()=>s(!1),children:n("span",{className:"text-black h-6 w-6 text-4xl block outline-none focus:outline-none",children:"×"})})]}),n("div",{className:"relative p-6 flex-auto",children:n("div",{className:"w-full",children:d("table",{id:c,"data-order":"[]",className:"cell-border display w-full overflow-y-auto",children:[n("thead",{children:d("tr",{children:[n("th",{children:"Filename"}),n("th",{children:"Type"}),n("th",{children:"Created At"}),n("th",{children:"Updated At"}),n("th",{})]})}),n("tbody",{children:g})]})})})]})})}),n("div",{className:"opacity-25 fixed inset-0 z-40 bg-black",onClick:()=>s(!1)})]}):null]})}function Xn({user:l,report:f}){console.log(f),!l.isAdmin&&f.id===null&&(f.fileType="report");const[s,P]=j.useState({id:f.id,filename:f.filename,fileType:f.fileType}),[A,g]=j.useState(!1),[R,c]=j.useState(!1),[h,y]=j.useState(!1),[v,E]=j.useState(!0),[W,w]=j.useState(!1),[x,I]=j.useState(null);function D(){s.filename.trim().length===0||s.fileType.trim().length===0?$.notify("Please enter all fields."):(axios.put("/reports/"+s.id,{filename:s.filename,fileType:s.fileType,content:editor.ui.view.editable.element.innerHTML}).then(_=>{_.status===200?(P({filename:_.data.filename,fileType:_.data.fileType,id:_.data.id}),$.notify("Edited successfully","success")):$.notify("An error occurred")}).catch(_=>{$.notify(_)}),close())}function F(_=null){_??(_=!v),editor.ui.view.toolbar.element.style.display=_?"flex":"none",E(_)}function V(){W?editor.disableReadOnlyMode("lock-all"):editor.enableReadOnlyMode("lock-all")}function N(){s.id===null?g(!0):D()}function T(){if(!l.isAdmin){const _=document.getElementsByClassName("perm-admin"),b=document.getElementsByClassName("perm-supervisor"),z=document.getElementsByClassName("perm-employee");for(let a of _)a.className="perm-admin",a.removeAttribute("role"),a.contentEditable=!1;for(let a of b){let M=l.role==="supervisor";a.contentEditable=M,a.className=M?a.className:"perm-supervisor",M||a.removeAttribute("role")}for(let a of z){let M=l.role==="employee";a.contentEditable=M,a.className=M?a.className:"perm-employee",M||a.removeAttribute("role")}}}return d("div",{className:"bg-white",children:[n("div",{id:"data-exchange",hidden:!0}),n(Gn,{setShowSaveModal:g,showSaveModal:A,fileDetails:s,setFileDetails:P,edit:D,user:l}),n(Vn,{setShowSavePDFModal:c,showSavePDFModal:R}),x&&n(Kn,{setShowLockModal:y,showLockModal:h,cell:x}),d("div",{className:"ml-3",children:[n("span",{className:"inline-flex rounded-md mr-6 mt-3",children:"Report Details>"}),d("span",{className:"inline-flex rounded-md mr-6",children:["Name: ",s.filename]}),l.isAdmin&&d("span",{className:"inline-flex rounded-md mr-6",children:["Type: ",s.fileType]}),s.id===null?n("span",{className:"inline-flex rounded-md mr-6",children:"Not saved"}):n("span",{className:"inline-flex rounded-md",children:n("button",{className:"inline-flex items-center px-3 py-2 border border-transparent",type:"button",onClick:()=>g(!0),children:n("span",{className:"hover:text-gray-700",children:"Edit Details"})})})]}),d("div",{children:[n("span",{className:"inline-flex rounded-md",children:n(Hn,{onClick:()=>F(),showTools:v})}),n(qn,{}),n(Jn,{user:l}),n(Yn,{user:l}),n("span",{className:"inline-flex rounded-md",children:n("button",{className:"inline-flex items-center px-3 py-2 border border-transparent",type:"button",onClick:N,children:n("span",{className:"hover:text-gray-700",children:"Save"})})}),n("span",{className:"inline-flex rounded-md",children:n("button",{className:"inline-flex items-center px-3 py-2 border border-transparent",type:"button",onClick:()=>c(!0),children:n("span",{className:"hover:text-gray-700",children:"download PDF"})})}),n(Qn,{onClick:V,readonly:W}),x&&n("span",{className:"inline-flex rounded-md",children:n("button",{className:"inline-flex items-center px-3 py-2 border border-transparent",type:"button",onClick:()=>y(!0),children:n("span",{className:"hover:text-gray-700 lock-button",children:"Lock"})})})]}),n(Ln.CKEditor,{editor:ClassicEditor,config:{htmlSupport:{allow:[{name:/.*/,attributes:!0,classes:!0,styles:!0}],disallow:[]}},onReady:_=>{window.loadData=function(b){const z=document.getElementById("data-exchange");z.innerHTML=b,T(),window.editor.setData(z.innerHTML)},window.editor=_,_.plugins.get("FileRepository").createUploadAdapter=b=>new Bn(b),f.id!==null&&loadData(f.content),_.on("change:isReadOnly",(b,z,a)=>{w(a)}),l.isAdmin&&_.ui.view.editable.element.addEventListener("click",b=>{I(b.target.closest("td")??b.target.closest("th"))})},onFocus:()=>{}})]})}function io({auth:l,report:f}){let s={...l.user,isAdmin:l.user.role==="admin"};return d(Fn,{user:s,children:[n($n,{title:"Records"}),n("div",{className:"p-0",children:n(Xn,{user:s,report:f})})]})}export{io as default};
