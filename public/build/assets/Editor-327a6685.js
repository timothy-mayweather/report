import{r as w,c as Ee,g as je,a as n,j as h,F as Y}from"./app-7a1fd182.js";import{M as Be}from"./Modal-ff22d37e.js";import{P as ue}from"./PrimaryButton-f3267b6c.js";import"./AuthenticatedLayout-5bd2a27d.js";var Ne={exports:{}};/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */Ne.exports;(function(d,l){(function(f,S){d.exports=S(w)})(self,f=>(()=>{var S={703:(s,g,p)=>{var m=p(414);function N(){}function M(){}M.resetWarningCache=N,s.exports=function(){function _(I,B,q,E,P,F){if(F!==m){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}function k(){return _}_.isRequired=_;var z={array:_,bigint:_,bool:_,func:_,number:_,object:_,string:_,symbol:_,any:_,arrayOf:k,element:_,elementType:_,instanceOf:k,node:_,objectOf:k,oneOf:k,oneOfType:k,shape:k,exact:k,checkPropTypes:M,resetWarningCache:N};return z.PropTypes=z,z}},697:(s,g,p)=>{s.exports=p(703)()},414:s=>{s.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:s=>{s.exports=f}},T={};function v(s){var g=T[s];if(g!==void 0)return g.exports;var p=T[s]={exports:{}};return S[s](p,p.exports,v),p.exports}v.n=s=>{var g=s&&s.__esModule?()=>s.default:()=>s;return v.d(g,{a:g}),g},v.d=(s,g)=>{for(var p in g)v.o(g,p)&&!v.o(s,p)&&Object.defineProperty(s,p,{enumerable:!0,get:g[p]})},v.o=(s,g)=>Object.prototype.hasOwnProperty.call(s,g),v.r=s=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var W={};return(()=>{v.r(W),v.d(W,{CKEditor:()=>le,CKEditorContext:()=>Le});var s=v(787),g=v.n(s),p=v(697),m=v.n(p);const N=new Array(256).fill("").map((e,t)=>("0"+t.toString(16)).slice(-2));class M{constructor(t){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof t.crashNumberLimit=="number"?t.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof t.minimumNonErrorTimePeriod=="number"?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=r=>{const o="error"in r?r.error:r.reason;o instanceof Error&&this._handleError(o,r)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,r){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(r)}off(t,r){this._listeners[t]=this._listeners[t].filter(o=>o!==r)}_fire(t,...r){const o=this._listeners[t]||[];for(const i of o)i.apply(this,[null,...r])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,r){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:r instanceof ErrorEvent?r.filename:void 0,lineno:r instanceof ErrorEvent?r.lineno:void 0,colno:r instanceof ErrorEvent?r.colno:void 0,date:this._now()});const o=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:o}),o?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&t.context!==void 0&&t.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(t)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function _(e,t=new Set){const r=[e],o=new Set;let i=0;for(;r.length>i;){const u=r[i++];if(!o.has(u)&&k(u)&&!t.has(u))if(o.add(u),Symbol.iterator in u)try{for(const y of u)r.push(y)}catch{}else for(const y in u)y!=="defaultValue"&&r.push(u[y])}return o}function k(e){const t=Object.prototype.toString.call(e),r=typeof e;return!(r==="number"||r==="boolean"||r==="string"||r==="symbol"||r==="function"||t==="[object Date]"||t==="[object RegExp]"||t==="[object Module]"||e==null||e._watchdogExcluded||e instanceof EventTarget||e instanceof Event)}function z(e,t,r=new Set){if(e===t&&typeof(o=e)=="object"&&o!==null)return!0;var o;const i=_(e,r),u=_(t,r);for(const y of i)if(u.has(y))return!0;return!1}const I=function(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")},B=typeof Ee=="object"&&Ee&&Ee.Object===Object&&Ee;var q=typeof self=="object"&&self&&self.Object===Object&&self;const E=B||q||Function("return this")(),P=function(){return E.Date.now()};var F=/\s/;const x=function(e){for(var t=e.length;t--&&F.test(e.charAt(t)););return t};var a=/^\s+/;const c=function(e){return e&&e.slice(0,x(e)+1).replace(a,"")},j=E.Symbol;var C=Object.prototype,L=C.hasOwnProperty,$t=C.toString,he=j?j.toStringTag:void 0;const Ft=function(e){var t=L.call(e,he),r=e[he];try{e[he]=void 0;var o=!0}catch{}var i=$t.call(e);return o&&(t?e[he]=r:delete e[he]),i};var Lt=Object.prototype.toString;const Ut=function(e){return Lt.call(e)};var qe=j?j.toStringTag:void 0;const J=function(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":qe&&qe in Object(e)?Ft(e):Ut(e)},G=function(e){return e!=null&&typeof e=="object"},Bt=function(e){return typeof e=="symbol"||G(e)&&J(e)=="[object Symbol]"};var qt=/^[-+]0x[0-9a-f]+$/i,Ht=/^0b[01]+$/i,Vt=/^0o[0-7]+$/i,Qt=parseInt;const He=function(e){if(typeof e=="number")return e;if(Bt(e))return NaN;if(I(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=I(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=c(e);var r=Ht.test(e);return r||Vt.test(e)?Qt(e.slice(2),r?2:8):qt.test(e)?NaN:+e};var Kt=Math.max,Gt=Math.min;const Yt=function(e,t,r){var o,i,u,y,b,D,R=0,xe=!1,te=!1,V=!0;if(typeof e!="function")throw new TypeError("Expected a function");function de(U){var K=o,ne=i;return o=i=void 0,R=U,y=e.apply(ne,K)}function be(U){var K=U-D;return D===void 0||K>=t||K<0||te&&U-R>=u}function re(){var U=P();if(be(U))return H(U);b=setTimeout(re,function(K){var ne=t-(K-D);return te?Gt(ne,u-(K-R)):ne}(U))}function H(U){return b=void 0,V&&o?de(U):(o=i=void 0,y)}function Q(){var U=P(),K=be(U);if(o=arguments,i=this,D=U,K){if(b===void 0)return function(ne){return R=ne,b=setTimeout(re,t),xe?de(ne):y}(D);if(te)return clearTimeout(b),b=setTimeout(re,t),de(D)}return b===void 0&&(b=setTimeout(re,t)),y}return t=He(t)||0,I(r)&&(xe=!!r.leading,u=(te="maxWait"in r)?Kt(He(r.maxWait)||0,t):u,V="trailing"in r?!!r.trailing:V),Q.cancel=function(){b!==void 0&&clearTimeout(b),R=0,o=D=i=b=void 0},Q.flush=function(){return b===void 0?y:H(P())},Q},Jt=function(e,t,r){var o=!0,i=!0;if(typeof e!="function")throw new TypeError("Expected a function");return I(r)&&(o="leading"in r?!!r.leading:o,i="trailing"in r?!!r.trailing:i),Yt(e,t,{leading:o,maxWait:t,trailing:i})},Xt=function(){this.__data__=[],this.size=0},Ve=function(e,t){return e===t||e!=e&&t!=t},ge=function(e,t){for(var r=e.length;r--;)if(Ve(e[r][0],t))return r;return-1};var Zt=Array.prototype.splice;const er=function(e){var t=this.__data__,r=ge(t,e);return!(r<0)&&(r==t.length-1?t.pop():Zt.call(t,r,1),--this.size,!0)},tr=function(e){var t=this.__data__,r=ge(t,e);return r<0?void 0:t[r][1]},rr=function(e){return ge(this.__data__,e)>-1},nr=function(e,t){var r=this.__data__,o=ge(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this};function oe(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}oe.prototype.clear=Xt,oe.prototype.delete=er,oe.prototype.get=tr,oe.prototype.has=rr,oe.prototype.set=nr;const ve=oe,or=function(){this.__data__=new ve,this.size=0},ir=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},sr=function(e){return this.__data__.get(e)},ar=function(e){return this.__data__.has(e)},Qe=function(e){if(!I(e))return!1;var t=J(e);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},Ce=E["__core-js_shared__"];var Ke=function(){var e=/[^.]+$/.exec(Ce&&Ce.keys&&Ce.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();const cr=function(e){return!!Ke&&Ke in e};var lr=Function.prototype.toString;const X=function(e){if(e!=null){try{return lr.call(e)}catch{}try{return e+""}catch{}}return""};var dr=/^\[object .+?Constructor\]$/,ur=Function.prototype,hr=Object.prototype,fr=ur.toString,pr=hr.hasOwnProperty,mr=RegExp("^"+fr.call(pr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const yr=function(e){return!(!I(e)||cr(e))&&(Qe(e)?mr:dr).test(X(e))},br=function(e,t){return e==null?void 0:e[t]},Z=function(e,t){var r=br(e,t);return yr(r)?r:void 0},fe=Z(E,"Map"),pe=Z(Object,"create"),gr=function(){this.__data__=pe?pe(null):{},this.size=0},vr=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var _r=Object.prototype.hasOwnProperty;const wr=function(e){var t=this.__data__;if(pe){var r=t[e];return r==="__lodash_hash_undefined__"?void 0:r}return _r.call(t,e)?t[e]:void 0};var xr=Object.prototype.hasOwnProperty;const Er=function(e){var t=this.__data__;return pe?t[e]!==void 0:xr.call(t,e)},jr=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=pe&&t===void 0?"__lodash_hash_undefined__":t,this};function ie(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}ie.prototype.clear=gr,ie.prototype.delete=vr,ie.prototype.get=wr,ie.prototype.has=Er,ie.prototype.set=jr;const Ge=ie,Nr=function(){this.size=0,this.__data__={hash:new Ge,map:new(fe||ve),string:new Ge}},Cr=function(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null},_e=function(e,t){var r=e.__data__;return Cr(t)?r[typeof t=="string"?"string":"hash"]:r.map},Sr=function(e){var t=_e(this,e).delete(e);return this.size-=t?1:0,t},Ar=function(e){return _e(this,e).get(e)},Or=function(e){return _e(this,e).has(e)},Tr=function(e,t){var r=_e(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this};function se(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}se.prototype.clear=Nr,se.prototype.delete=Sr,se.prototype.get=Ar,se.prototype.has=Or,se.prototype.set=Tr;const kr=se,Pr=function(e,t){var r=this.__data__;if(r instanceof ve){var o=r.__data__;if(!fe||o.length<199)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new kr(o)}return r.set(e,t),this.size=r.size,this};function ae(e){var t=this.__data__=new ve(e);this.size=t.size}ae.prototype.clear=or,ae.prototype.delete=ir,ae.prototype.get=sr,ae.prototype.has=ar,ae.prototype.set=Pr;const Rr=ae,Mr=function(e,t){for(var r=-1,o=e==null?0:e.length;++r<o&&t(e[r],r,e)!==!1;);return e},Ye=function(){try{var e=Z(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Je=function(e,t,r){t=="__proto__"&&Ye?Ye(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r};var Dr=Object.prototype.hasOwnProperty;const Xe=function(e,t,r){var o=e[t];Dr.call(e,t)&&Ve(o,r)&&(r!==void 0||t in e)||Je(e,t,r)},we=function(e,t,r,o){var i=!r;r||(r={});for(var u=-1,y=t.length;++u<y;){var b=t[u],D=o?o(r[b],e[b],b,r,e):void 0;D===void 0&&(D=e[b]),i?Je(r,b,D):Xe(r,b,D)}return r},Wr=function(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o},Ze=function(e){return G(e)&&J(e)=="[object Arguments]"};var et=Object.prototype,Ir=et.hasOwnProperty,zr=et.propertyIsEnumerable;const $r=Ze(function(){return arguments}())?Ze:function(e){return G(e)&&Ir.call(e,"callee")&&!zr.call(e,"callee")},Se=Array.isArray,Fr=function(){return!1};var tt=l&&!l.nodeType&&l,rt=tt&&!0&&d&&!d.nodeType&&d,nt=rt&&rt.exports===tt?E.Buffer:void 0;const ot=(nt?nt.isBuffer:void 0)||Fr;var Lr=/^(?:0|[1-9]\d*)$/;const Ur=function(e,t){var r=typeof e;return!!(t=t??9007199254740991)&&(r=="number"||r!="symbol"&&Lr.test(e))&&e>-1&&e%1==0&&e<t},it=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991};var O={};O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Arguments]"]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object Boolean]"]=O["[object DataView]"]=O["[object Date]"]=O["[object Error]"]=O["[object Function]"]=O["[object Map]"]=O["[object Number]"]=O["[object Object]"]=O["[object RegExp]"]=O["[object Set]"]=O["[object String]"]=O["[object WeakMap]"]=!1;const Br=function(e){return G(e)&&it(e.length)&&!!O[J(e)]},Ae=function(e){return function(t){return e(t)}};var st=l&&!l.nodeType&&l,me=st&&!0&&d&&!d.nodeType&&d,Oe=me&&me.exports===st&&B.process;const ce=function(){try{var e=me&&me.require&&me.require("util").types;return e||Oe&&Oe.binding&&Oe.binding("util")}catch{}}();var at=ce&&ce.isTypedArray;const qr=at?Ae(at):Br;var Hr=Object.prototype.hasOwnProperty;const ct=function(e,t){var r=Se(e),o=!r&&$r(e),i=!r&&!o&&ot(e),u=!r&&!o&&!i&&qr(e),y=r||o||i||u,b=y?Wr(e.length,String):[],D=b.length;for(var R in e)!t&&!Hr.call(e,R)||y&&(R=="length"||i&&(R=="offset"||R=="parent")||u&&(R=="buffer"||R=="byteLength"||R=="byteOffset")||Ur(R,D))||b.push(R);return b};var Vr=Object.prototype;const Te=function(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||Vr)},lt=function(e,t){return function(r){return e(t(r))}},Qr=lt(Object.keys,Object);var Kr=Object.prototype.hasOwnProperty;const Gr=function(e){if(!Te(e))return Qr(e);var t=[];for(var r in Object(e))Kr.call(e,r)&&r!="constructor"&&t.push(r);return t},dt=function(e){return e!=null&&it(e.length)&&!Qe(e)},ke=function(e){return dt(e)?ct(e):Gr(e)},Yr=function(e,t){return e&&we(t,ke(t),e)},Jr=function(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t};var Xr=Object.prototype.hasOwnProperty;const Zr=function(e){if(!I(e))return Jr(e);var t=Te(e),r=[];for(var o in e)(o!="constructor"||!t&&Xr.call(e,o))&&r.push(o);return r},Pe=function(e){return dt(e)?ct(e,!0):Zr(e)},en=function(e,t){return e&&we(t,Pe(t),e)};var ut=l&&!l.nodeType&&l,ht=ut&&!0&&d&&!d.nodeType&&d,ft=ht&&ht.exports===ut?E.Buffer:void 0,pt=ft?ft.allocUnsafe:void 0;const tn=function(e,t){if(t)return e.slice();var r=e.length,o=pt?pt(r):new e.constructor(r);return e.copy(o),o},rn=function(e,t){var r=-1,o=e.length;for(t||(t=Array(o));++r<o;)t[r]=e[r];return t},nn=function(e,t){for(var r=-1,o=e==null?0:e.length,i=0,u=[];++r<o;){var y=e[r];t(y,r,e)&&(u[i++]=y)}return u},mt=function(){return[]};var on=Object.prototype.propertyIsEnumerable,yt=Object.getOwnPropertySymbols;const Re=yt?function(e){return e==null?[]:(e=Object(e),nn(yt(e),function(t){return on.call(e,t)}))}:mt,sn=function(e,t){return we(e,Re(e),t)},bt=function(e,t){for(var r=-1,o=t.length,i=e.length;++r<o;)e[i+r]=t[r];return e},Me=lt(Object.getPrototypeOf,Object),gt=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)bt(t,Re(e)),e=Me(e);return t}:mt,an=function(e,t){return we(e,gt(e),t)},vt=function(e,t,r){var o=t(e);return Se(e)?o:bt(o,r(e))},cn=function(e){return vt(e,ke,Re)},ln=function(e){return vt(e,Pe,gt)},De=Z(E,"DataView"),We=Z(E,"Promise"),Ie=Z(E,"Set"),ze=Z(E,"WeakMap");var _t="[object Map]",wt="[object Promise]",xt="[object Set]",Et="[object WeakMap]",jt="[object DataView]",dn=X(De),un=X(fe),hn=X(We),fn=X(Ie),pn=X(ze),ee=J;(De&&ee(new De(new ArrayBuffer(1)))!=jt||fe&&ee(new fe)!=_t||We&&ee(We.resolve())!=wt||Ie&&ee(new Ie)!=xt||ze&&ee(new ze)!=Et)&&(ee=function(e){var t=J(e),r=t=="[object Object]"?e.constructor:void 0,o=r?X(r):"";if(o)switch(o){case dn:return jt;case un:return _t;case hn:return wt;case fn:return xt;case pn:return Et}return t});const $e=ee;var mn=Object.prototype.hasOwnProperty;const yn=function(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&mn.call(e,"index")&&(r.index=e.index,r.input=e.input),r},Nt=E.Uint8Array,Fe=function(e){var t=new e.constructor(e.byteLength);return new Nt(t).set(new Nt(e)),t},bn=function(e,t){var r=t?Fe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)};var gn=/\w*$/;const vn=function(e){var t=new e.constructor(e.source,gn.exec(e));return t.lastIndex=e.lastIndex,t};var Ct=j?j.prototype:void 0,St=Ct?Ct.valueOf:void 0;const _n=function(e){return St?Object(St.call(e)):{}},wn=function(e,t){var r=t?Fe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)},xn=function(e,t,r){var o=e.constructor;switch(t){case"[object ArrayBuffer]":return Fe(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return bn(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return wn(e,r);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return vn(e);case"[object Symbol]":return _n(e)}};var At=Object.create;const En=function(){function e(){}return function(t){if(!I(t))return{};if(At)return At(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),jn=function(e){return typeof e.constructor!="function"||Te(e)?{}:En(Me(e))},Nn=function(e){return G(e)&&$e(e)=="[object Map]"};var Ot=ce&&ce.isMap;const Cn=Ot?Ae(Ot):Nn,Sn=function(e){return G(e)&&$e(e)=="[object Set]"};var Tt=ce&&ce.isSet;const An=Tt?Ae(Tt):Sn;var kt="[object Arguments]",Pt="[object Function]",Rt="[object Object]",A={};A[kt]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object DataView]"]=A["[object Boolean]"]=A["[object Date]"]=A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Map]"]=A["[object Number]"]=A[Rt]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object Symbol]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Error]"]=A[Pt]=A["[object WeakMap]"]=!1;const On=function e(t,r,o,i,u,y){var b,D=1&r,R=2&r,xe=4&r;if(o&&(b=u?o(t,i,u,y):o(t)),b!==void 0)return b;if(!I(t))return t;var te=Se(t);if(te){if(b=yn(t),!D)return rn(t,b)}else{var V=$e(t),de=V==Pt||V=="[object GeneratorFunction]";if(ot(t))return tn(t,D);if(V==Rt||V==kt||de&&!u){if(b=R||de?{}:jn(t),!D)return R?an(t,en(b,t)):sn(t,Yr(b,t))}else{if(!A[V])return u?t:{};b=xn(t,V,D)}}y||(y=new Rr);var be=y.get(t);if(be)return be;y.set(t,b),An(t)?t.forEach(function(H){b.add(e(H,r,o,H,t,y))}):Cn(t)&&t.forEach(function(H,Q){b.set(Q,e(H,r,o,Q,t,y))});var re=te?void 0:(xe?R?ln:cn:R?Pe:ke)(t);return Mr(re||t,function(H,Q){re&&(H=t[Q=H]),Xe(b,Q,e(H,r,o,Q,t,y))}),b},Tn=function(e,t){return On(e,5,t=typeof t=="function"?t:void 0)};var kn=Function.prototype,Pn=Object.prototype,Mt=kn.toString,Rn=Pn.hasOwnProperty,Mn=Mt.call(Object);const Dn=function(e){if(!G(e)||J(e)!="[object Object]")return!1;var t=Me(e);if(t===null)return!0;var r=Rn.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Mt.call(r)==Mn},Wn=function(e){return G(e)&&e.nodeType===1&&!Dn(e)};class Dt extends M{constructor(t,r={}){super(r),this._editor=null,this._throttledSave=Jt(this._save.bind(this),typeof r.saveInterval=="number"?r.saveInterval:5e3),t&&(this._creator=(o,i)=>t.create(o,i)),this._destructor=o=>o.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(t=>{console.error("An error happened during the editor destroying.",t)}).then(()=>{if(typeof this._elementOrData=="string")return this.create(this._data,this._config,this._config.context);{const t=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,t,t.context)}}).then(()=>{this._fire("restart")})}create(t=this._elementOrData,r=this._config,o){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=t,this._config=this._cloneEditorConfiguration(r)||{},this._config.context=o,this._creator(t,this._config))).then(i=>{this._editor=i,i.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=i.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const t=this._editor;return this._editor=null,t.model.document.off("change:data",this._throttledSave),this._destructor(t)})}_save(){const t=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=t}catch(r){console.error(r,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(t){this._excludedProps=t}_getData(){const t={};for(const r of this._editor.model.document.getRootNames())t[r]=this._editor.data.get({rootName:r});return t}_isErrorComingFromThisItem(t){return z(this._editor,t.context,this._excludedProps)}_cloneEditorConfiguration(t){return Tn(t,(r,o)=>Wn(r)||o==="context"?r:void 0)}}const ye=Symbol("MainQueueId");class Wt extends M{constructor(t,r={}){super(r),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new In,this._watchdogConfig=r,this._creator=o=>t.create(o),this._destructor=o=>o.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}get context(){return this._context}create(t={}){return this._actionQueues.enqueue(ye,()=>(this._contextConfig=t,this._create()))}getItem(t){return this._getWatchdog(t)._item}getItemState(t){return this._getWatchdog(t).state}add(t){const r=It(t);return Promise.all(r.map(o=>this._actionQueues.enqueue(o.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let i;if(this._watchdogs.has(o.id))throw new Error(`Item with the given id is already added: '${o.id}'.`);if(o.type==="editor")return i=new Dt(null,this._watchdogConfig),i.setCreator(o.creator),i._setExcludedProperties(this._contextProps),o.destructor&&i.setDestructor(o.destructor),this._watchdogs.set(o.id,i),i.on("error",(u,{error:y,causesRestart:b})=>{this._fire("itemError",{itemId:o.id,error:y}),b&&this._actionQueues.enqueue(o.id,()=>new Promise(D=>{const R=()=>{i.off("restart",R),this._fire("itemRestart",{itemId:o.id}),D()};i.on("restart",R)}))}),i.create(o.sourceElementOrData,o.config,this._context);throw new Error(`Not supported item type: '${o.type}'.`)})))}remove(t){const r=It(t);return Promise.all(r.map(o=>this._actionQueues.enqueue(o,()=>{const i=this._getWatchdog(o);return this._watchdogs.delete(o),i.destroy()})))}destroy(){return this._actionQueues.enqueue(ye,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(ye,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(t=>{console.error("An error happened during destroying the context or items.",t)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(t=>(this._context=t,this._contextProps=_(this._context),Promise.all(Array.from(this._watchdogs.values()).map(r=>(r._setExcludedProperties(this._contextProps),r.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const t=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(r=>r.destroy())).then(()=>this._destructor(t))})}_getWatchdog(t){const r=this._watchdogs.get(t);if(!r)throw new Error(`Item with the given id was not registered: ${t}.`);return r}_isErrorComingFromThisItem(t){for(const r of this._watchdogs.values())if(r._isErrorComingFromThisItem(t))return!1;return z(this._context,t.context)}}class In{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(t){this._onEmptyCallbacks.push(t)}enqueue(t,r){const o=t===ye;this._activeActions++,this._queues.get(t)||this._queues.set(t,Promise.resolve());const i=(o?Promise.all(this._queues.values()):Promise.all([this._queues.get(ye),this._queues.get(t)])).then(r),u=i.catch(()=>{});return this._queues.set(t,u),i.finally(()=>{this._activeActions--,this._queues.get(t)===u&&this._activeActions===0&&this._onEmptyCallbacks.forEach(y=>y())})}}function It(e){return Array.isArray(e)?e:[e]}const zt=g().createContext("contextWatchdog");class Le extends g().Component{constructor(t,r){super(t,r),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(t){return this._shouldComponentUpdate(t)}async _shouldComponentUpdate(t){return t.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(t.config)),t.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(t.config),!0):this.props.children!==t.children}render(){return g().createElement(zt.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(t){this.contextWatchdog=new Wt(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(r,o)=>{this.props.onError(o.error,{phase:"runtime",willContextRestart:o.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(t).catch(r=>{this.props.onError(r,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}Le.defaultProps={isLayoutReady:!0,onError:(e,t)=>console.error(e,t)},Le.propTypes={id:m().string,isLayoutReady:m().bool,context:m().func,watchdogConfig:m().object,config:m().object,onReady:m().func,onError:m().func};const Ue="Lock from React integration (@ckeditor/ckeditor5-react)";class le extends g().Component{constructor(t){super(t),this.editorDestructionInProgress=null,this.domContainer=g().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:r}=window;if(r){const[o]=r.split(".").map(Number);o<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.props.disableWatchdog?this.instance:this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(t){return!!this.editor&&(t.id!==this.props.id||t.disableWatchdog!==this.props.disableWatchdog||(this._shouldUpdateEditor(t)&&this.editor.data.set(t.data),"disabled"in t&&(t.disabled?this.editor.enableReadOnlyMode(Ue):this.editor.disableReadOnlyMode(Ue)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return g().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.props.disableWatchdog?this.instance=await this._createEditor(this.domContainer.current,this._getConfig()):this.watchdog||(this.context instanceof Wt?this.watchdog=new zn(this.context):this.watchdog=new le._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((t,r)=>this._createEditor(t,r)),this.watchdog.on("error",(t,{error:r,causesRestart:o})=>{(this.props.onError||console.error)(r,{phase:"runtime",willEditorRestart:o})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(t=>{(this.props.onError||console.error)(t,{phase:"initialization",willEditorRestart:!1})}))}_createEditor(t,r){return this.props.editor.create(t,r).then(o=>{"disabled"in this.props&&this.props.disabled&&o.enableReadOnlyMode(Ue);const i=o.model.document,u=o.editing.view.document;return i.on("change:data",y=>{this.props.onChange&&this.props.onChange(y,o)}),u.on("focus",y=>{this.props.onFocus&&this.props.onFocus(y,o)}),u.on("blur",y=>{this.props.onBlur&&this.props.onBlur(y,o)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(o)}),o})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(t=>{setTimeout(async()=>this.watchdog?(await this.watchdog.destroy(),this.watchdog=null,t()):this.instance?(await this.instance.destroy(),this.instance=null,t()):void t())})}_shouldUpdateEditor(t){return this.props.data!==t.data&&this.editor.data.get()!==t.data}_getConfig(){const t=this.props.config||{};return this.props.data&&t.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` properties. The config property is over the data value and the first one will be used when specified both."),{...t,initialData:t.initialData||this.props.data||""}}}le.contextType=zt,le.propTypes={editor:m().func.isRequired,data:m().string,config:m().object,disableWatchdog:m().bool,watchdogConfig:m().object,onChange:m().func,onReady:m().func,onFocus:m().func,onBlur:m().func,onError:m().func,disabled:m().bool,id:m().any},le._EditorWatchdog=Dt;class zn{constructor(t){this._contextWatchdog=t,this._id=function(){const r=4294967296*Math.random()>>>0,o=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0,u=4294967296*Math.random()>>>0;return"e"+N[r>>0&255]+N[r>>8&255]+N[r>>16&255]+N[r>>24&255]+N[o>>0&255]+N[o>>8&255]+N[o>>16&255]+N[o>>24&255]+N[i>>0&255]+N[i>>8&255]+N[i>>16&255]+N[i>>24&255]+N[u>>0&255]+N[u>>8&255]+N[u>>16&255]+N[u>>24&255]}()}setCreator(t){this._creator=t}create(t,r){return this._contextWatchdog.add({sourceElementOrData:t,config:r,creator:this._creator,id:this._id,type:"editor"})}on(t,r){this._contextWatchdog.on("itemError",(o,{itemId:i,error:u})=>{i===this._id&&r(null,{error:u,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}})(),W})())})(Ne,Ne.exports);var $n=Ne.exports;class Fn{constructor(l){this.loader=l}upload(){return this.loader.file.then(l=>new Promise((f,S)=>{je.post("/upload",{file:l},{forceFormData:!0,onSuccess(T){f({default:T.props.flash.success.urls.default})}})}))}abort(){console.log("abort")}}const Ln=Fn;function Un(){const[d,l]=w.useState(!1),[f,S]=w.useState(n("tr",{})),T="filesTable";function v(){axios.get("/upload").then(W=>{S(W.data.map(s=>h("tr",{children:[n("td",{children:s.file_name}),n("td",{children:s.name}),n("td",{children:s.mime_type}),n("td",{children:n("a",{href:"/storage/"+s.path,target:"_blank",children:n("u",{children:"view"})})}),n("td",{children:n("button",{className:"border p-2 inline-flex items-center px-4 py-2 bg-gray-800 border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 focus:bg-gray-700 active:bg-gray-900 focus:outline-none focus:ring-2",type:"button",onClick:()=>navigator.clipboard.writeText("/storage/"+s.path),children:"Copy Url"})})]},s.id))),l(!0),$(document).ready(function(){$("#"+T).DataTable({columnDefs:[{searchable:!1,targets:[3,4]}]})})})}return h(Y,{children:[n("span",{className:"inline-flex rounded-md",children:n("button",{className:"inline-flex items-center px-3 py-2 border border-transparent",type:"button",onClick:v,children:n("span",{className:"hover:text-gray-700",children:"view uploads"})})}),d?h(Y,{children:[n("div",{className:"flex overflow-y-auto fixed inset-10 z-50 outline-none focus:outline-none",children:n("div",{className:"relative w-auto my-6 mx-auto",children:h("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[h("div",{className:"flex items-start justify-between p-2 border-b border-solid border-slate-200 rounded-t",children:[n("h3",{className:"text-3xl font-semibold justify-center p-2",children:"Uploaded Files"}),n("button",{className:"p-2 ml-auto border-0 text-black float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:()=>l(!1),children:n("span",{className:"text-black h-6 w-6 text-4xl block outline-none focus:outline-none",children:"×"})})]}),n("div",{className:"relative p-6 flex-auto",children:n("div",{className:"w-full",children:h("table",{id:T,"data-order":"[]",className:"cell-border display w-full overflow-y-auto",children:[n("thead",{children:h("tr",{children:[n("th",{children:"Filename"}),n("th",{children:"Alias"}),n("th",{children:"Mimetype"}),n("th",{children:"Link"}),n("th",{children:"COPY URL"})]})}),n("tbody",{children:f})]})})})]})})}),n("div",{className:"opacity-25 fixed inset-0 z-40 bg-black",onClick:()=>l(!1)})]}):null]})}function Bn({showTools:d,onClick:l}){return n(Y,{children:n("button",{className:"inline-flex items-center px-3 py-2 border border-transparent",type:"button",onClick:l,children:h("span",{className:"hover:text-gray-700",children:["editor tools",n("span",{children:n("svg",{style:d?{transform:"rotate(180deg)"}:{},className:"ml-2 -mr-0.5 h-4 w-4 inline-flex",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:n("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})})})}function qn({setShowSavePDFModal:d,showSavePDFModal:l,fileDetails:f}){const[S,T]=w.useState({filename:"",pdfType:"image"}),[v,W]=w.useState(!1);w.useEffect(()=>{T({...S,filename:f.filename})},[l]);function s(m){T({...S,[m.target.name]:m.target.value})}function g(){d(!1)}function p(){if(S.filename.trim().length===0||S.pdfType.trim().length===0)W(!0);else{if(S.pdfType==="image"){let m=document.querySelector(".ck.ck-editor__editable_inline"),N=m.style.border;m.style.removeProperty("border");let M=document.getElementsByClassName("ck-editor__main")[0];html2pdf().set({filename:S.filename+".pdf",image:{type:"jpeg",quality:.98}}).from(M).save(),m.style.border=N}d(!1)}}return n(Be,{onClose:g,show:l,children:h("div",{className:"px-6 py-6",children:[n("label",{className:"mr-2",children:"Enter filename"}),n("input",{name:"filename",type:"text",onInput:s,value:S.filename}),n("span",{children:" .pdf"}),n("br",{}),n("br",{}),n("span",{className:"text-red-600",hidden:!v,children:"*Please fill all fields"}),h("div",{children:[n("br",{}),n(ue,{className:"mr-6",onClick:p,children:"Download"}),n(ue,{className:"bg-red-600 hover:bg-red-600",onClick:g,children:"Cancel"})]})]})})}function Hn({readonly:d,onClick:l}){return n(Y,{children:n("button",{className:"inline-flex items-center px-3 py-2 border border-transparent",type:"button",onClick:l,children:n("span",{className:"hover:text-gray-700",children:d?"Edit":"Readonly"})})})}function Vn({setShowLockModal:d,showLockModal:l,cell:f}){const[S,T]=w.useState(""),[v,W]=w.useState(""),[s,g]=w.useState(!1),[p,m]=w.useState([]),N=f.closest("tr"),M=f.closest("table");function _(){p.forEach(E=>{E.className=v}),q(),loadData(getEditAreaHtml()),k()}function k(){setTimeout(()=>{const E=document.getElementsByClassName("perm-admin"),P=document.getElementsByClassName("perm-supervisor"),F=document.getElementsByClassName("perm-employee");for(let x of E)x.className+=" bg-red-600";for(let x of P)x.className+=" bg-yellow-300";for(let x of F)x.className+=" bg-green-800"},500),setTimeout(()=>{const E=document.getElementsByClassName("perm-admin"),P=document.getElementsByClassName("perm-supervisor"),F=document.getElementsByClassName("perm-employee");for(let x of E)x.className=x.className.replace("bg-red-600","");for(let x of P)x.className=x.className.replace("bg-yellow-300","");for(let x of F)x.className=x.className.replace("bg-green-800","")},3e3)}function z(E){m(E);let P=null,F=!0;E.forEach(x=>{const a=x.className.search("perm-"),c=a===-1?"perm-all":x.className.substring(a).split(" ")[0];P===null?P=c:P!==c&&(F=!1)}),W(F&&P!==null?P:"")}function I(E){const P=E.target.value;if(T(P),P==="Cell")z([f]);else if(P==="Table")z(M.cells);else if(P==="Row")z(N.cells);else if(P==="Column"){const F=f.cellIndex;let x=[];M.rows.forEach(a=>{let c=a.cells[F];c&&x.push(c)}),z(x)}}function B(E){W(E.target.value)}function q(){d(!1),T(""),W(""),g(!1),m([])}return n(Be,{onClose:q,show:l,children:h("div",{className:"px-6 py-6",children:[n("label",{className:"mr-2",children:"Choose Element"}),h("select",{name:"element",onChange:I,value:S,children:[n("option",{value:""}),n("option",{value:"Cell",children:"Cell"}),n("option",{value:"Row",children:"Row"}),n("option",{value:"Column",children:"Column"}),n("option",{value:"Table",children:"Table"})]}),n("br",{}),n("br",{}),h("div",{children:[n("div",{children:"Choose Permissions"}),h("div",{className:"md:flex items-center",children:[n("input",{className:"ml-2 mr-2",type:"radio",name:"permissions",value:"perm-all",checked:v==="perm-all",onChange:B}),n("label",{children:"All"}),n("input",{className:"ml-4 mr-2",type:"radio",name:"permissions",value:"perm-admin",checked:v==="perm-admin",onChange:B}),n("label",{children:"Admin Only"}),n("span",{className:"ml-1 rounded-bl-2xl bg-red-600 h-4 w-4"})]}),n("span",{className:"ml-2",children:"Admin and "}),n("br",{}),h("div",{className:"md:flex items-center",children:[n("input",{className:"ml-2 mr-2",type:"radio",name:"permissions",value:"perm-supervisor",checked:v==="perm-supervisor",onChange:B}),n("label",{children:"Supervisor"}),n("span",{className:"ml-1 rounded-bl-2xl bg-yellow-300 h-4 w-4"}),n("input",{className:"ml-4 mr-2",type:"radio",name:"permissions",value:"perm-employee",checked:v==="perm-employee",onChange:B}),n("label",{children:"Employee"}),n("span",{className:"ml-1 rounded-bl-2xl bg-green-800 h-4 w-4"})]})]}),n("span",{className:"text-red-600",hidden:!s,children:"*Please fill all fields"}),h("div",{children:[n("br",{}),n(ue,{className:"mr-6",onClick:_,children:"Apply"}),n(ue,{className:"bg-red-600 hover:bg-red-600",onClick:()=>d(!1),children:"Cancel"})]})]})})}function Qn({setShowSaveModal:d,showSaveModal:l,fileDetails:f,setFileDetails:S,edit:T,user:v,selectedShared:W,selected:s,initialMembers:g}){const[p,m]=w.useState(!1),[N,M]=w.useState(!1),[_,k]=w.useState(g),z="membersTable",[I,B]=w.useState({});w.useEffect(()=>{s.current={...s.current,...I}},[I]),w.useEffect(()=>{let a={};Object.values(_).forEach(c=>{W.hasOwnProperty(c.id)||(a[c.id.toString()]=!1)}),s.current={...W,...a}},[_]);function q(a){s.current[a]=!s.current[a],B({[a]:s.current[a]})}function E(){axios.get("/users/create").then(a=>{if(a.status===200){let c=a.data.filter(C=>C.id!==v.id),j={};c.forEach(C=>{j[C.id]=C}),k(j),M(!0),$(document).ready(function(){$("#"+z).DataTable({columnDefs:[{searchable:!1,targets:[3]}]})})}else $.notify("an error occurred")}).catch(a=>{$.notify(a.message)})}function P(){if(f.filename.trim().length===0||f.fileType.trim().length===0)m(!0);else{if(f.id!==null)T();else{let a=Object.keys(s.current).filter(c=>s.current[c]).toString();console.log(a),axios.post("/reports",{filename:f.filename,fileType:f.fileType,content:getEditAreaHtml(),share:a.length===0?"0":a}).then(c=>{c.status===200?(S({filename:c.data.filename,fileType:c.data.fileType,id:c.data.id}),$.notify("Saved successfully","success")):$.notify("An error occurred")}).catch(c=>{$.notify(c)})}x()}}function F(a){S({...f,[a.target.name]:a.target.value})}function x(){d(!1),M(!1)}return n(Be,{onClose:x,show:l,children:h("div",{className:"px-6 py-6",children:[n("label",{className:"mr-2",children:"Enter Name"}),n("input",{name:"filename",type:"text",value:f.filename,onInput:F}),n("br",{}),n("br",{}),!v.isAdminRoute&&h("button",{className:"inline-flex items-center py-2 border border-transparent",type:"button",onClick:E,children:[n("span",{className:"hover:text-gray-700 mr-2",children:"Share With:"}),n("span",{children:Object.keys(s.current).filter(a=>s.current[a]).map(a=>_[a].email).toString()})]}),n("div",{className:"relative p-6 flex-auto",children:n("div",{className:"w-full",children:h("table",{id:z,"data-order":"[]",className:"cell-border display w-full overflow-y-auto",hidden:!N,children:[n("thead",{children:h("tr",{children:[n("th",{children:"Name"}),n("th",{children:"Email"}),n("th",{children:"Role"}),n("th",{children:"Select"})]})}),n("tbody",{children:Object.values(_).map(a=>h("tr",{children:[n("td",{children:a.name}),n("td",{children:a.email}),n("td",{children:a.role}),n("td",{children:n("input",{type:"checkbox",className:"rounded border-gray-300 text-indigo-600 shadow-sm focus:ring-indigo-500 ",defaultChecked:s.current[a.id],onChange:()=>q([a.id])})})]},a.id))})]})})}),n("span",{className:"text-red-600",hidden:!p,children:"*Please fill all fields"}),h("div",{children:[n("br",{}),n(ue,{className:"mr-6",onClick:P,children:"Save"}),n(ue,{className:"bg-red-600 hover:bg-red-600",onClick:x,children:"Cancel"})]})]})})}function Kn({user:d}){const[l,f]=w.useState(!1),[S,T]=w.useState(n("tr",{})),v="templatesTable";function W(){axios.get("/templates").then(g=>{g.status===200?(T(g.data.map(p=>h("tr",{children:[n("td",{children:p.filename}),n("td",{children:p.fileType}),n("td",{children:p.created_at}),n("td",{children:p.updated_at}),n("td",{children:n("u",{className:"cursor-pointer",onClick:()=>{s(p.id),$.notify("Loaded "+p.filename,"info")},children:"load"})}),d.isAdminRoute&&n("td",{children:n("u",{className:"cursor-pointer",onClick:()=>{je.get("/reports",{reportId:p.id})},children:"edit"})})]},p.id))),f(!0),$(document).ready(function(){$("#"+v).DataTable({columnDefs:[{searchable:!1,targets:[1,4]}]})})):$.notify("an error occurred")}).catch(g=>{$.notify(g.message)})}function s(g){axios.get("/template/"+g).then(p=>{p.status===200?loadData(p.data.content):$.notify("an error occurred")}).catch(p=>{$.notify(p.response.data.message??p)})}return h(Y,{children:[n("span",{className:"inline-flex rounded-md",children:n("button",{className:"inline-flex items-center px-3 py-2 border border-transparent",type:"button",onClick:W,children:n("span",{className:"hover:text-gray-700",children:"templates"})})}),l?h(Y,{children:[n("div",{className:"flex overflow-y-auto fixed inset-10 z-50 outline-none focus:outline-none",children:n("div",{className:"relative w-auto my-6 mx-auto",children:h("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[h("div",{className:"flex items-start justify-between p-2 border-b border-solid border-slate-200 rounded-t",children:[n("h3",{className:"text-3xl font-semibold justify-center p-2",children:"Templates"}),n("button",{className:"p-2 ml-auto border-0 text-black float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:()=>f(!1),children:n("span",{className:"text-black h-6 w-6 text-4xl block outline-none focus:outline-none",children:"×"})})]}),n("div",{className:"relative p-6 flex-auto",children:n("div",{className:"w-full",children:h("table",{id:v,"data-order":"[]",className:"cell-border display w-full overflow-y-auto",children:[n("thead",{children:h("tr",{children:[n("th",{children:"Filename"}),n("th",{children:"Type"}),n("th",{children:"Created At"}),n("th",{children:"Updated At"}),n("th",{}),d.isAdminRoute&&n("th",{})]})}),n("tbody",{children:S})]})})})]})})}),n("div",{className:"opacity-25 fixed inset-0 z-40 bg-black",onClick:()=>f(!1)})]}):null]})}function Gn({user:d}){const[l,f]=w.useState(!1),[S,T]=w.useState(!0),[v,W]=w.useState(n("tr",{})),s="reportsTable",[g,p]=w.useState(d.isAdminRoute?h("span",{children:["All Reports",n("span",{className:"ml-2 text-red-600 text-xl",children:"Only edit with permission!"})]}):"Reports");function m(M=route(d.isAdminRoute?"admin.reports.create":"reports.create")){d.isAdminRoute||p(M.endsWith("create")?"My Reports":"Shared With Me"),axios.get(M).then(_=>{_.status===200?(W(_.data.map(k=>h("tr",{children:[n("td",{children:k.filename}),n("td",{children:k.fileType}),n("td",{children:k.created_at}),n("td",{children:k.updated_at}),n("td",{children:n("u",{className:"cursor-pointer",onClick:()=>{je.get(d.isAdminRoute?"/admin/reports":"/reports",{reportId:k.id})},children:"edit"})})]},k.id))),f(!0),$(document).ready(function(){$("#"+s).DataTable({columnDefs:[{searchable:!1,targets:[1,4]}]})})):$.notify("an error occurred")}).catch(_=>{$.notify(_.response.data.message??_)})}let N=d.isAdminRoute?{onClick:()=>m()}:{onMouseEnter:()=>T(!1),onMouseLeave:()=>T(!0)};return h(Y,{children:[h("div",{className:"relative inline-block text-left",children:[n("span",{className:"inline-flex rounded-md",children:n("button",{className:"inline-flex items-center px-3 py-2 border border-transparent",type:"button",...N,children:n("span",{className:"hover:text-gray-700",children:"reports"})})}),n("div",{className:"absolute right-0 z-10 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabIndex:"-1",hidden:S,onMouseEnter:()=>T(!1),onMouseLeave:()=>T(!0),children:h("div",{className:"py-1",role:"none",children:[n("button",{className:"inline-flex items-center px-4 py-2 border border-transparent",type:"button",onClick:()=>je.get("/reports"),children:n("span",{className:"hover:text-gray-700",children:"New"})}),n("br",{}),n("button",{className:"inline-flex items-center px-4 py-2 border border-transparent",type:"button",onClick:()=>m(),children:n("span",{className:"hover:text-gray-700",children:"My Reports"})}),n("br",{}),n("button",{className:"inline-flex items-center px-4 py-2 border border-transparent",type:"button",onClick:()=>m("/reports/shared"),children:n("span",{className:"hover:text-gray-700",children:"Shared with me"})})]})})]}),l?h(Y,{children:[n("div",{className:"flex overflow-y-auto fixed inset-10 z-50 outline-none focus:outline-none",children:n("div",{className:"relative w-auto my-6 mx-auto",children:h("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[h("div",{className:"flex items-start justify-between p-2 border-b border-solid border-slate-200 rounded-t",children:[n("h3",{className:"text-3xl font-semibold justify-center p-2",children:g}),n("button",{className:"p-2 ml-auto border-0 text-black float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:()=>f(!1),children:n("span",{className:"text-black h-6 w-6 text-4xl block outline-none focus:outline-none",children:"×"})})]}),n("div",{className:"relative p-6 flex-auto",children:n("div",{className:"w-full",children:h("table",{id:s,"data-order":"[]",className:"cell-border display w-full overflow-y-auto",children:[n("thead",{children:h("tr",{children:[n("th",{children:"Filename"}),n("th",{children:"Type"}),n("th",{children:"Created At"}),n("th",{children:"Updated At"}),n("th",{})]})}),n("tbody",{children:v})]})})})]})})}),n("div",{className:"opacity-25 fixed inset-0 z-40 bg-black",onClick:()=>f(!1)})]}):null]})}function eo({user:d,report:l}){l.id===null&&(l.fileType=d.isAdminRoute?"template":"report");const[f,S]=w.useState({id:l.id,filename:l.filename,fileType:l.fileType}),[T,v]=w.useState(!1),[W,s]=w.useState(!1),[g,p]=w.useState(!1),[m,N]=w.useState(!0),[M,_]=w.useState(l.id!==null),[k,z]=w.useState(null),[I,B]=w.useState(l.hasOwnProperty("users")?Object.fromEntries(new Map(l.users.map(a=>[a.id,!0]))):{}),q=w.useRef(I);function E(){if(f.filename.trim().length===0||f.fileType.trim().length===0)$.notify("Please enter all fields.");else{let a=Object.keys(q.current).filter(c=>q.current[c]).toString();axios.put("/reports/"+f.id,{filename:f.filename,fileType:f.fileType,content:getEditAreaHtml(),share:a.length===0?"0":a}).then(c=>{c.status===200?(S({filename:c.data.filename,fileType:c.data.fileType,id:c.data.id}),B(Object.fromEntries(new Map(c.data.users.map(j=>[j.id,!0])))),$.notify("Edited successfully","success")):$.notify("An error occurred")}).catch(c=>{$.notify(c.response.data.message??c)}),close()}}function P(a=null){a??(a=!m),editor.ui.view.toolbar.element.style.display=a?"flex":"none",N(a)}w.useEffect(()=>{M?editor.enableReadOnlyMode("lock-all"):editor.disableReadOnlyMode("lock-all")},[M]);function F(){f.id===null?v(!0):E()}function x(){if(!d.isAdminRoute){const a=document.getElementsByClassName("perm-admin"),c=document.getElementsByClassName("perm-supervisor"),j=document.getElementsByClassName("perm-employee");for(let C of a)C.className="perm-admin",C.removeAttribute("role"),C.contentEditable=!1;for(let C of c){let L=d.role==="supervisor";C.contentEditable=L,C.className=L?C.className:"perm-supervisor",L||C.removeAttribute("role")}for(let C of j){let L=d.role==="employee";C.contentEditable=L,C.className=L?C.className:"perm-employee",L||C.removeAttribute("role")}}}return h("div",{className:"bg-white",children:[n("div",{id:"data-exchange",hidden:!0}),n(Qn,{setShowSaveModal:v,showSaveModal:T,fileDetails:f,setFileDetails:S,edit:E,user:d,selected:q,selectedShared:I,initialMembers:l.hasOwnProperty("users")?Object.fromEntries(new Map(l.users.map(a=>[a.id,a]))):{}}),n(qn,{setShowSavePDFModal:s,showSavePDFModal:W,fileDetails:f}),k&&n(Vn,{setShowLockModal:p,showLockModal:g,cell:k}),h("div",{className:"ml-3",children:[n("span",{className:"inline-flex rounded-md mr-6 mt-3",children:"Report Details>"}),h("span",{className:"inline-flex rounded-md mr-6",children:["Name: ",f.filename]}),d.isAdminRoute&&h("span",{className:"inline-flex rounded-md mr-6",children:["Type: ",f.fileType]}),f.id===null?n("span",{className:"inline-flex rounded-md mr-6",children:"Not saved"}):n("span",{className:"inline-flex rounded-md",children:n("button",{className:"inline-flex items-center px-3 py-2 border border-transparent",type:"button",onClick:()=>v(!0),children:n("span",{className:"hover:text-gray-700",children:"Edit Details"})})})]}),h("div",{children:[n("span",{className:"inline-flex rounded-md",children:n(Bn,{onClick:()=>P(),showTools:m})}),n(Un,{}),n(Gn,{user:d}),n(Kn,{user:d}),n("span",{className:"inline-flex rounded-md",children:n("button",{className:"inline-flex items-center px-3 py-2 border border-transparent",type:"button",onClick:()=>s(!0),children:n("span",{className:"hover:text-gray-700",children:"download PDF"})})}),!M&&n("span",{className:"inline-flex rounded-md",children:n("button",{className:"inline-flex items-center px-3 py-2 border border-transparent",type:"button",onClick:F,children:n("span",{className:"hover:text-gray-700",children:"Save"})})}),n(Hn,{onClick:()=>_(!M),readonly:M}),k&&n("span",{className:"inline-flex rounded-md",children:n("button",{className:"inline-flex items-center px-3 py-2 border border-transparent",type:"button",onClick:()=>p(!0),children:n("span",{className:"hover:text-gray-700 lock-button",children:"Lock"})})})]}),n($n.CKEditor,{editor:ClassicEditor,config:{htmlSupport:{allow:[{name:/.*/,attributes:!0,classes:!0,styles:!0}],disallow:[]}},onReady:a=>{window.loadData=function(c){const j=document.getElementById("data-exchange");j.innerHTML=c,x(),window.editor.setData(j.innerHTML)},window.getEditAreaHtml=function(){const c=document.getElementById("data-exchange");return c.innerHTML=a.ui.view.editable.element.innerHTML,c.querySelectorAll(".ck-table-column-resizer").forEach(j=>{j.remove()}),c.querySelectorAll(".ck-table-bogus-paragraph").forEach(j=>{j.className=j.className.replace("ck-table-bogus-paragraph","");let C=j.children;for(let L=0;L<C.length;L++)C[L].tagName==="BR"&&C[L].remove();j.children.length===0&&j.innerText.length===0&&j.remove()}),c.querySelectorAll("p").forEach(j=>{let C=j.children;C.length>0&&(C[0].tagName==="BR"&&C[0].remove(),j.children.length===0&&j.innerText.length===0&&j.remove())}),c.innerHTML},window.editor=a,a.plugins.get("FileRepository").createUploadAdapter=c=>new Ln(c),l.id!==null&&loadData(l.content),d.isAdminRoute&&a.ui.view.editable.element.addEventListener("click",c=>{z(c.target.closest("td")??c.target.closest("th"))})},onFocus:()=>{}})]})}export{eo as E};
